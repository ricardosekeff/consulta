(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{438:function(e,a,t){"use strict";t.r(a);var n=t(10),o=t(11),r=t(13),c=t(12),l=t(14),i=t(1),s=t.n(i),m=t(442),d=t(431),p=t.n(d),u=t(436),h=t(267),E=t(47),b=t(15),v=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={menu:[],loading:!0},t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/menu").then(function(a){!1!==a.data.status&&e.setState({menu:a.data,loading:!1})})}},{key:"toggleMenu",value:function(){document.querySelector(".sidebar").classList.toggle("show-menu")}},{key:"render",value:function(){return s.a.createElement("nav",{className:"col-md-3 col-xl-2 sidebar"},s.a.createElement("div",{className:"sidebar-sticky"},s.a.createElement("div",{className:"header-nav"},s.a.createElement("h1",{className:"logo"},s.a.createElement("a",{href:"/"},s.a.createElement("img",{src:"logo-white.png",alt:"Consulta F\xe1cil"}))),s.a.createElement("button",{onClick:this.toggleMenu,className:"btn-nav"},s.a.createElement("span",{className:"icon-bar top-bar"}),s.a.createElement("span",{className:"icon-bar middle-bar"}),s.a.createElement("span",{className:"icon-bar bottom-bar"}))),s.a.createElement(h.a,{spinning:this.state.loading},s.a.createElement("ul",{className:"nav flex-column"},this.state.menu.map(function(e){return s.a.createElement("li",{className:"nav-item",key:"menu-".concat(e.id_menu)},s.a.createElement(u.a,{className:"nav-link",activeClassName:"active",to:e.link},s.a.createElement(E.a,{icon:e.icone,fixedWidth:!0})," ",s.a.createElement("span",null,e.nome)),e.submenus&&e.submenus.length?s.a.createElement("ul",{className:"nav-sub"},e.submenus.map(function(e){return s.a.createElement("li",{className:"nav-item",key:"menu-".concat(e.id_menu)},s.a.createElement(u.a,{className:"nav-link",activeClassName:"active",to:e.link,exact:!!e.exact},e.nome))})):"")}))),s.a.createElement("div",{className:"nav-bottom d-flex"},s.a.createElement(u.a,{className:"nav-link",to:"/logout",title:"Sair"},s.a.createElement(E.a,{icon:"sign-out-alt",transform:"grow-5"})),s.a.createElement(u.a,{className:"nav-link",to:"/meus-dados",title:"Meus dados"},s.a.createElement(E.a,{icon:"user-circle",transform:"grow-5"})," ",localStorage.getItem("email")))))}}]),a}(s.a.Component),f=v,g=t(291),_=t(30),O=t(26),j=t(3),C=t(65),N=function(e){function a(){return Object(n.a)(this,a),Object(r.a)(this,Object(c.a)(a).apply(this,arguments))}return Object(l.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(j.n,{isOpen:this.props.visivel,toggle:this.props.fechaModalAlert,className:"modal-".concat(this.props.tipo)},s.a.createElement(j.p,{toggle:this.props.fechaModalAlert},s.a.createElement(E.a,{icon:"exclamation-circle"})," ",this.props.titulo),s.a.createElement(j.o,null,this.props.conteudo?this.props.conteudo.constructor===Object?s.a.createElement("ul",null,Object.keys(this.props.conteudo).map(function(a,t){return s.a.createElement("li",null,e.props.conteudo[a])})):s.a.createElement("p",null,this.props.conteudo):s.a.createElement("p",null,"Ocorreu um erro no servidor ao processar a requisi\xe7\xe3o."))))}}]),a}(s.a.Component),y=Object(_.b)(function(e){return{visivel:e.modalAlert.visivel,tipo:e.modalAlert.tipo,titulo:e.modalAlert.titulo,conteudo:e.modalAlert.conteudo}},function(e){return Object(O.b)({fechaModalAlert:C.b},e)})(N),P=t(41),S=t(6),k=t(372),F=t(64),R=t(189),x=t(27),A=t(4),T=t(45),L=t.n(T),D=t(78),B=function(e){function a(e){var t;Object(n.a)(this,a);var o=(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).props.options[0];return t.state={InputTag:o.mask?L.a:j.j,inputOptions:o.mask?Object(A.a)({},o,{maskChar:o.maskChar||""}):o,value:"",collapse:!1,filtersValues:e.filters?e.filters.reduce(function(e,a){return Object(A.a)({},e,Object(x.a)({},a.value,""))},{}):""},t.changeFilter=t.changeFilter.bind(Object(S.a)(Object(S.a)(t))),t.handleChange=t.handleChange.bind(Object(S.a)(Object(S.a)(t))),t.handleFilterChange=t.handleFilterChange.bind(Object(S.a)(Object(S.a)(t))),t.toggle=t.toggle.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"changeFilter",value:function(e){var a=e.target.value,t=this.props.options.find(function(e){return e.value===a});t.mask?this.setState({InputTag:L.a,inputOptions:Object(A.a)({},t,{maskChar:t.maskChar||""})}):this.setState({InputTag:j.j,inputOptions:t})}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleFilterChange",value:function(e,a){var t=e.target?e.target.name:e,n=e.target?e.target.value:a||"";this.setState({filtersValues:Object(A.a)({},this.state.filtersValues,Object(x.a)({},t,n))})}},{key:"toggle",value:function(){this.setState({collapse:!this.state.collapse})}},{key:"render",value:function(){var e=this,a=this.state.InputTag,t=this.state.inputOptions,n=(t.name,t.value,Object(R.a)(t,["name","value"]));return s.a.createElement("div",{className:"search mb-4"},s.a.createElement(j.q,null,s.a.createElement(j.b,{sm:"3"},s.a.createElement(j.m,{for:"search_tipo"},"Filtrar por:"),s.a.createElement(j.j,{type:"select",id:"search_tipo",name:"search_tipo",onChange:this.changeFilter},this.props.options.map(function(e,a){return s.a.createElement("option",{key:"searchopt".concat(e.value),value:e.value},e.name)}))),s.a.createElement(j.b,null,s.a.createElement(j.m,null,"\xa0"),s.a.createElement("div",{className:"input-group"},s.a.createElement(a,Object.assign({type:"text",value:this.state.value,className:"form-control",onChange:this.handleChange,placeholder:"Digite o filtro..."},n)),s.a.createElement("div",{className:"input-group-append"},this.props.filters?s.a.createElement("button",{onClick:this.toggle,className:"btn btn-outline-secondary",title:"Filtros"},s.a.createElement("span",{className:"sr-only"},"Filtros"),s.a.createElement(E.a,{icon:"filter"})):"",s.a.createElement("button",{onClick:function(){return e.props.onSearch(e.state.value.replace(/\.|\/|-/g,""),e.state.inputOptions.value,Object.keys(e.state.filtersValues).map(function(a){return"".concat(a,"=").concat(e.state.filtersValues[a].value?e.state.filtersValues[a].value:e.state.filtersValues[a])}).join("&"))},className:"btn btn-outline-secondary",type:"button"},s.a.createElement(E.a,{icon:"search"})," Pesquisar"))))),this.props.filters?s.a.createElement(j.c,{isOpen:this.state.collapse,className:"search-filtros"},s.a.createElement(j.q,null,this.props.filters.map(function(a){return s.a.createElement(j.b,{key:"filter_".concat(a.value)},s.a.createElement(j.m,{htmlFor:"filter_".concat(a.value)},a.name),"select"===a.type?s.a.createElement(D.a,Object.assign({id:"filter_".concat(a.value),name:a.value,options:a.options,value:e.state.filtersValues[a.value],onChange:function(t){return e.handleFilterChange(a.value,t)}},a.props)):s.a.createElement(j.j,Object.assign({type:"text",id:"filter_".concat(a.value),name:a.value,value:e.state.filtersValues[a.value],onChange:e.handleFilterChange},a.props)))}))):"")}}]),a}(s.a.Component),I=t(36),$=t(46),w=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={searchOptions:[{name:"N\xfamero",value:"numero"},{name:"Cliente CPF",value:"cpf",mask:"999.999.999-99"}],searchFilters:[{name:"Data de cadastro",value:"data_criacao",props:{type:"date"}},{name:"Status",value:"status",type:"select",options:[{value:"pendente",label:"Pendente"},{value:"aguardando pagamento",label:"Aguardando pagamento"},{value:"realizado",label:"Realizado"},{value:"cancelado",label:"Cancelado"}]}],isLoaded:!0},t.filter=t.filter.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.agendamentosById.length||(this.setState({isLoaded:!1}),b.a.get("agendamento").then(function(a){e.setState({isLoaded:!0}),!1!==a.data.status&&e.props.changeState({agendamentosById:a.data})}))}},{key:"filter",value:function(e,a,t){var n=this,o=e?"agendamento/".concat(e,"/").concat(a,"?").concat(t):"agendamento?".concat(t);this.setState({isLoaded:!1}),this.props.clearState("agendamentosById"),b.a.get(o).then(function(e){n.setState({isLoaded:!0}),!1!==e.data.status&&n.props.changeState({agendamentosById:e.data})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement(B,{options:this.state.searchOptions,filters:this.state.searchFilters,onSearch:this.filter}),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table ".concat(this.state.isLoaded?"":"blur")},s.a.createElement("thead",{className:""},s.a.createElement("tr",null,s.a.createElement("th",null,"N\xfamero"),s.a.createElement("th",null,"Parceiro"),s.a.createElement("th",null,"Cliente CPF"),s.a.createElement("th",{className:"text-center"},"Total procedimentos"),s.a.createElement("th",null,"Status"),s.a.createElement("th",null,"A\xe7\xf5es"))),s.a.createElement("tbody",null,this.props.agendamentosById.map(function(a){return s.a.createElement("tr",{key:"agendamento".concat(a.id_agendamento),className:"status-".concat(a.status)},s.a.createElement("td",null,s.a.createElement(k.a,{to:"/agendamento/v/".concat(a.id_agendamento)},a.codigo)),s.a.createElement("td",null,s.a.createElement(k.a,{to:"/parceiro/v/".concat(a.parceiro.id_parceiro)},a.parceiro.nome)),s.a.createElement("td",null,s.a.createElement(k.a,{to:"/cliente/v/".concat(a.cliente.id_cliente)},a.cliente.cpf.replace(/^(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"))),s.a.createElement("td",{className:"text-center"},"R$ ".concat(a.total)),s.a.createElement("td",null,a.status),s.a.createElement("td",null,s.a.createElement(q,{agendamento:a,handleErro:e.props.alertErro})))})))),s.a.createElement(F.a,{onClick:!1,to:"/agendamento/adicionar"}))}}]),a}(s.a.Component),q=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={isOpen:!1},t.cancelar=t.cancelar.bind(Object(S.a)(Object(S.a)(t))),t.toggle=t.toggle.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"cancelar",value:function(){var e=this;window.confirm("Tem certeza que deseja CANCELAR O AGAMENTAMENTO?")&&b.a.put("agendamento/cancelar",{id_agendamento:this.props.agendamento.id_agendamento}).then(function(a){!1===a.data.status?e.props.handleErro(a.data.message):window.location.reload()}).catch(function(a){a.response.data&&a.response.data.erros?e.props.handleErro(a.response.data.erros):alert("Ocorreu um erro ao processar a requisi\xe7\xe3o! Por favor, tente novamente.")})}},{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){var e=this.props.agendamento;return["pendente","realizado"].includes(e.status)?s.a.createElement(j.d,{size:"sm",direction:"down",isOpen:this.state.isOpen,toggle:this.toggle},s.a.createElement(j.g,{color:"light"},s.a.createElement(E.a,{icon:"ellipsis-h"})),s.a.createElement(j.f,null,s.a.createElement(j.e,{onClick:this.cancelar},"Cancelar"))):""}}]),a}(s.a.Component),M=Object(_.b)(function(e){return{agendamentosById:e.pages.agendamentosById}},function(e){return Object(O.b)({alertErro:C.a,changeState:$.a,clearState:$.b},e)})(w),V=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(t){b.a.get("cliente/cpf/".concat(e)).then(function(e){!1===e.data.status?(t({type:"AGENDAMENTO_CLEAR_CLIENTE",payload:e.data.message}),a()):(t({type:"AGENDAMENTO_GET_CLIENTE",payload:e.data[0]}),a())})}},z=function(){return{type:"AGENDAMENTO_CLEAR_CLIENTE"}},J=function(){return{type:"AGENDAMENTO_ADD_PROCEDIMENTO"}},G=function(e){return{type:"AGENDAMENTO_REMOVE_PROCEDIMENTO",payload:e}},H=function(e){return function(a){e&&e.value?(a({type:"AGENDAMENTO_CHANGE",payload:{disabledProcedimentos:!0}}),b.a.get("parceiro/procedimento/".concat(e.value)).then(function(e){if(a({type:"AGENDAMENTO_CHANGE",payload:{disabledProcedimentos:!1}}),!1===e.data.status)a({type:"AGENDAMENTO_FILTER_PROCEDIMENTO",payload:[]});else{var t=[];e.data.map(function(e){return t.push({value:e.id_parceiro_procedimento,label:"R$ ".concat(e.valor_total," - ").concat(e.parceiro_nome)})}),a({type:"AGENDAMENTO_FILTER_PROCEDIMENTO",payload:t})}})):a({type:"AGENDAMENTO_FILTER_PROCEDIMENTO",payload:[]})}},U=function(){return function(e){b.a.get("parceiro/procedimento/0").then(function(a){if(!1===a.data.status)e({type:"AGENDAMENTO_CHANGE",payload:{parceiroProcedimentoById:[]}});else{var t=a.data.reduce(function(e,a){return e[a.id_parceiro_procedimento]={id_parceiro_procedimento:a.id_parceiro_procedimento,id_parceiro:a.id_parceiro,valor_total:a.valor_total,valor_parceiro:a.valor_parceiro,codigo_tuss:a.codigo_tuss,observacao:a.observacao,parceiro:a.parceiro_nome},e},{});e({type:"AGENDAMENTO_CHANGE",payload:{parceiroProcedimentoById:t}})}})}},Q=function(e){return{type:"AGENDAMENTO_CHANGE_DESCONTO",payload:{index:e.target.name.split("_")[1],target:e.target}}},K=t(55),W=t(43),X=t(74),Y=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).addAgendamento=t.addAgendamento.bind(Object(S.a)(Object(S.a)(t))),t.handleChange=t.handleChange.bind(Object(S.a)(Object(S.a)(t))),t.somaProcedimentos=t.somaProcedimentos.bind(Object(S.a)(Object(S.a)(t))),t.somaTotal=t.somaTotal.bind(Object(S.a)(Object(S.a)(t))),t.calculaTroco=t.calculaTroco.bind(Object(S.a)(Object(S.a)(t))),t.calculaAdicional=t.calculaAdicional.bind(Object(S.a)(Object(S.a)(t))),t.changeTipoCartao=t.changeTipoCartao.bind(Object(S.a)(Object(S.a)(t))),t.valorAjustado=t.valorAjustado.bind(Object(S.a)(Object(S.a)(t))),t.handleCpfChange=t.handleCpfChange.bind(Object(S.a)(Object(S.a)(t))),t.state={procedimento:"",parceirosFiltrados:[],disabled:e.disabled||!1,disabledCPF:t.props.match.params.cpf||!1,searchingCPF:!1,isLoaded:!0},t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.clear("AGENDAMENTO"),0===this.props.parceiroProcedimentoById.length&&this.props.getParceiroProcedimento(),0===this.props.procedimentosAgendamentoOptions.length&&this.props.getProcedimentosAgendamento(),0===this.props.representantesOptions.length&&this.props.getRepresentantesOptions(),this.props.match.params.cpf&&this.handleCpfChange({target:{name:"cliente_cpf",value:this.props.match.params.cpf.replace(/^(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")}})}},{key:"handleChange",value:function(e){var a=e.target;this.setState(Object(x.a)({},a.name,a.value))}},{key:"handleCpfChange",value:function(e){var a=this,t=e.target.value;this.props.change(e),14===t.length?(this.setState({searchingCPF:!0}),this.props.getCliente(t,function(){return a.setState({searchingCPF:!1})})):this.props.clearCliente()}},{key:"somaProcedimentos",value:function(){var e=this;return this.props.procedimentos.reduce(function(a,t){return a+=e.props.parceiroProcedimentoById[t.id_parceiro_procedimento].valor_total*t.quantidade-t.desconto},0)}},{key:"somaTotal",value:function(){return this.somaProcedimentos()+Number(this.props.valor_adicional_cartao)+Number(this.props.valor_representante)}},{key:"calculaTroco",value:function(){return(Number(this.props.valor_pago_especie)+Number(this.props.valor_pago_cartao)-this.somaProcedimentos()-Number(this.props.valor_representante)).toFixed(2)}},{key:"calculaAdicional",value:function(e){var a=this,t="credito"===this.props.tipo_cartao?.1:.05;this.props.changeDecimal(e,null,function(e){a.props.change("valor_adicional_cartao",Number(e*t).toFixed(2))})}},{key:"changeTipoCartao",value:function(e){var a="credito"===e.target.value?.1:.05;this.props.change(e),this.props.change("valor_adicional_cartao",Number(this.props.valor_pago_cartao*a).toFixed(2))}},{key:"valorAjustado",value:function(){return Number(Number(this.props.valor_pago_cartao)+Number(this.props.valor_adicional_cartao)).toFixed(2)}},{key:"addAgendamento",value:function(e){var a=this;e.preventDefault();var t=this.calculaTroco();if(this.state.disabled||!this.state.isLoaded)return!1;if(t<0)return alert("Valor de pagamento (esp\xe9cie + cart\xe3o) menor que valor devido!"),!1;if(t>Number(this.props.valor_pago_especie))return alert("Valor do troco maior que valor pago em esp\xe9cie!"),!1;var n={procedimentos:this.props.procedimentos,valor_pago_especie:this.props.valor_pago_especie,valor_pago_cartao:this.props.valor_pago_cartao,valor_adicional_cartao:this.props.valor_adicional_cartao,valor_representante:this.props.valor_representante,valor_troco:t,id_cliente:this.props.id_cliente,id_representante:this.props.representante.value};this.setState({disabled:!0}),b.a.post("agendamento",n).then(function(e){!1===e.data.status?a.props.alertErro(e.data.message):(a.props.clear("AGENDAMENTO"),a.props.clearState("agendamentosById"),alert("Agendamento cadastrado com sucesso!"),e.data.map(function(e){window.open("/#/agendamento/v/".concat(e),"_blank")})),a.setState({disabled:!1})}).catch(function(e){e.response&&e.response.data?a.props.alertErro(e.response.data.erros):alert("Ocorreu um erro ao tentar salvar o agendamento! Pro favor, tente novamente."),a.setState({disabled:!1})})}},{key:"render",value:function(){var e=this;return s.a.createElement("form",{onSubmit:this.addAgendamento},this.state.isLoaded||s.a.createElement(I.a,null),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Cliente"),s.a.createElement(j.q,null,s.a.createElement(j.b,{sm:"4",md:"3"},s.a.createElement(X.a,{loading:this.state.searchingCPF},s.a.createElement(j.m,{for:"cliente_cpf"},"CPF"),s.a.createElement(L.a,{mask:"999.999.999-99",maskChar:"",name:"cliente_cpf",id:"cliente_cpf",className:"form-control",value:this.props.cliente_cpf,onChange:this.props.match.params.cpf?null:this.handleCpfChange,required:!0,disabled:this.state.disabledCPF||this.state.searchingCPF}))),s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"cliente_nome"},"Nome"),s.a.createElement(j.j,{type:"text",name:"cliente_nome",id:"cliente_nome",value:this.props.cliente_nome,required:!0,disabled:!0}))))),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Procedimento"),s.a.createElement(j.q,null,s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"procedimento"},"Nome do procedimento"),s.a.createElement(D.a,{options:this.props.procedimentosAgendamentoOptions,value:this.props.procedimento,onChange:function(a){e.props.changeSelect("procedimento",a),e.props.filtraParceiroProcedimento(a)},type:"text",name:"procedimento",id:"procedimento",placeholder:"Selecione...",noResultsText:"Nenhum resultado encontrado"}))),s.a.createElement(j.b,{sm:"2"},s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"procedimento_quantidade"},"Qnt."),s.a.createElement(j.j,{type:"number",name:"procedimento_quantidade",id:"procedimento_quantidade",min:"1",value:this.props.procedimento_quantidade,onChange:this.props.change})))),s.a.createElement(j.h,{className:"form-group-icon"},s.a.createElement(j.m,{for:"procedimento_codigo"},"Parceiro / Valor"),s.a.createElement(D.a,{options:this.props.procedimentos_filtrados,id:"procedimento_codigo",name:"procedimento_codigo",value:this.props.procedimento_codigo,onChange:function(a){return e.props.changeSelect("procedimento_codigo",a)},placeholder:"Selecione...",noResultsText:"Nenhum resultado encontrado",disabled:this.props.disabledProcedimentos}),s.a.createElement("button",{type:"button",onClick:this.props.addProcedimento,className:"btn btn-primary",disabled:this.props.disabledProcedimentos},s.a.createElement(E.a,{icon:"plus"})))),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Resumo do agendamento"),s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Procedimento"),s.a.createElement("th",null,"Parceiro"),s.a.createElement("th",{width:"90"},"Qnt."),s.a.createElement("th",{width:"130"},"Valor Unit."),s.a.createElement("th",{width:"130"},"Desconto"))),s.a.createElement("tfoot",null,this.props.valor_representante>0&&s.a.createElement("tr",{className:"table-secondary"},s.a.createElement("td",{colSpan:"3"}),s.a.createElement("td",null,s.a.createElement("b",null,"Representante")),s.a.createElement("td",null,s.a.createElement("b",null,"R$ ".concat(this.props.valor_representante||0)))),this.props.valor_adicional_cartao>0&&s.a.createElement("tr",{className:"table-secondary"},s.a.createElement("td",{colSpan:"3"}),s.a.createElement("td",null,s.a.createElement("b",null,"Ajuste cart\xe3o")),s.a.createElement("td",null,s.a.createElement("b",null,"R$ ".concat(this.props.valor_adicional_cartao||0)))),s.a.createElement("tr",{className:"table-primary"},s.a.createElement("td",{colSpan:"3"}),s.a.createElement("td",null,s.a.createElement("b",null,"TOTAL")),s.a.createElement("td",null,s.a.createElement("b",null,"R$ ".concat(this.somaTotal()))),s.a.createElement("td",null))),s.a.createElement("tbody",null,this.props.procedimentos.map(function(a,t){return s.a.createElement("tr",{key:"agendamentoProcedimento".concat(t)},s.a.createElement("td",null,a.id_procedimento.label),s.a.createElement("td",null,e.props.parceiroProcedimentoById[a.id_parceiro_procedimento].parceiro),s.a.createElement("td",null,a.quantidade),s.a.createElement("td",null,"R$ ".concat(e.props.parceiroProcedimentoById[a.id_parceiro_procedimento].valor_total)),s.a.createElement("td",null,s.a.createElement(j.j,{name:"desconto_".concat(t),type:"number",value:a.desconto,min:0,max:1*(e.props.parceiroProcedimentoById[a.id_parceiro_procedimento].valor_total-e.props.parceiroProcedimentoById[a.id_parceiro_procedimento].valor_parceiro),step:"0.1",onChange:e.props.changeDesconto})),s.a.createElement("td",null,s.a.createElement("button",{type:"button",onClick:function(){return e.props.removeProcedimento(a.id_parceiro_procedimento)},className:"btn btn-danger",title:"Remover"},s.a.createElement(E.a,{icon:"times"}))))})))),s.a.createElement("fieldset",null,s.a.createElement(j.h,null,s.a.createElement("legend",null,"Representante"),s.a.createElement(j.q,null,s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"representante"},"Nome do representante"),s.a.createElement(D.a,{options:this.props.representantesOptions,value:this.props.representante,onChange:function(a){e.props.changeSelect("representante",a)},type:"text",name:"representante",id:"representante",placeholder:"Selecione...",noResultsText:"Nenhum resultado encontrado"}))),s.a.createElement(j.b,{sm:"3"},s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"valor_representante"},"Valor representante"),s.a.createElement(j.j,{type:"text",name:"valor_representante",id:"valor_representante",value:this.props.valor_representante,onChange:this.props.changeDecimal,disabled:!this.props.representante})))))),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Dados do pagamento"),s.a.createElement(j.q,null,s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"valor_pago_especie"},"Valor em esp\xe9cie"),s.a.createElement(j.j,{type:"text",name:"valor_pago_especie",id:"valor_pago_especie",value:this.props.valor_pago_especie,onChange:this.props.changeDecimal}))),s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"valor_pago_cartao"},"Valor cart\xe3o"),s.a.createElement(j.j,{type:"text",name:"valor_pago_cartao",id:"valor_pago_cartao",value:this.props.valor_pago_cartao,onChange:this.calculaAdicional,disabled:!this.props.tipo_cartao})),s.a.createElement(j.q,null,s.a.createElement(j.b,null,s.a.createElement(j.h,{check:!0},s.a.createElement(j.m,null,s.a.createElement(j.j,{type:"radio",name:"tipo_cartao",value:"credito",onChange:this.changeTipoCartao})," Cr\xe9dito"))),s.a.createElement(j.b,null,s.a.createElement(j.h,{check:!0},s.a.createElement(j.m,null,s.a.createElement(j.j,{type:"radio",name:"tipo_cartao",value:"debito",onChange:this.changeTipoCartao})," D\xe9bito"))))),s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"valor_adicional_cartao"},"Valor ajustado"),s.a.createElement(j.j,{type:"text",id:"valor_adicional_cartao",value:this.valorAjustado(),readOnly:!0}),s.a.createElement(j.i,{color:"muted"},"Valor cobrado na maquineta"))),s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,null,"Troco"),s.a.createElement(j.j,{type:"text",value:this.calculaTroco(),readOnly:!0}))))),s.a.createElement(j.a,{type:"submit",outline:!0,color:"primary"},"Salvar"))}}]),a}(s.a.Component),Z=Object(_.b)(function(e){return{representantesOptions:e.app.representantesOptions,procedimentosAgendamentoOptions:e.app.procedimentosAgendamentoOptions,cliente_nome:e.agendamentoForm.cliente_nome,cliente_cpf:e.agendamentoForm.cliente_cpf,parceiroProcedimentoById:e.agendamentoForm.parceiroProcedimentoById,procedimento:e.agendamentoForm.procedimento,procedimento_codigo:e.agendamentoForm.procedimento_codigo,procedimento_quantidade:e.agendamentoForm.procedimento_quantidade,procedimentos_filtrados:e.agendamentoForm.procedimentos_filtrados,representante:e.agendamentoForm.representante,id_cliente:e.agendamentoForm.id_cliente,procedimentos:e.agendamentoForm.procedimentos,valor_pago_cartao:e.agendamentoForm.valor_pago_cartao,valor_adicional_cartao:e.agendamentoForm.valor_adicional_cartao,tipo_cartao:e.agendamentoForm.tipo_cartao,valor_representante:e.agendamentoForm.valor_representante,valor_pago_especie:e.agendamentoForm.valor_pago_especie,disabledProcedimentos:e.agendamentoForm.disabledProcedimentos}},function(e){return Object(O.b)({alertErro:C.a,getProcedimentosAgendamento:K.f,getParceiroProcedimento:U,filtraParceiroProcedimento:H,addProcedimento:J,removeProcedimento:G,getCliente:V,getRepresentantesOptions:K.g,clearCliente:z,changeDesconto:Q,change:Object(W.b)("AGENDAMENTO"),changeDecimal:Object(W.c)("AGENDAMENTO"),changeSelect:Object(W.d)("AGENDAMENTO"),clear:W.a,clearState:$.b},e)})(Y),ee=t(424),ae=t.n(ee),te=t(437),ne=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={codigo:"",total:"",valor_representante:"",valor_adicional_cartao:"",data_criacao:"",cliente:{},parceiro:{endereco:{}},procedimentos:[],isLoaded:!1},t.print=t.print.bind(Object(S.a)(Object(S.a)(t))),t.somaTotal=t.somaTotal.bind(Object(S.a)(Object(S.a)(t))),t.deleteProcedimento=t.deleteProcedimento.bind(Object(S.a)(Object(S.a)(t))),t.cancelar=t.cancelar.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.match&&this.props.match.params.id&&b.a.get("agendamento/".concat(this.props.match.params.id)).then(function(a){e.setState(Object(A.a)({isLoaded:!0},a.data[0]))})}},{key:"print",value:function(){b.a.post("http://cfacilimp:3003",this.state).then(function(e){!0===e.data&&alert("Agendamento impresso com sucesso!")}).catch(function(e){alert("Impressora n\xe3o encontrada.")})}},{key:"somaTotal",value:function(){return Number(Number(this.state.total)+Number(this.state.valor_representante)+Number(this.state.valor_adicional_cartao)).toFixed(2)}},{key:"deleteProcedimento",value:function(e){var a=this;b.a.delete("agendamento/".concat(this.props.match.params.id,"/procedimento/").concat(e)).then(function(e){!1===e.status?alert(e.data.message):(alert("Procedimento removido com sucesso!"),window.location.reload())}).catch(function(e){alert("Ocorreu um erro ao processar a requisi\xe7\xe3o. Por favor, tente novamente!"),a.setState({disabled:!1})})}},{key:"cancelar",value:function(){var e=this;b.a.put("agendamento/cancelar",{id_agendamento:this.props.match.params.id}).then(function(a){!1===a.data.status?e.props.handleErro(a.data.message):window.location.reload()}).catch(function(a){a.response.data&&a.response.data.erros?e.props.handleErro(a.response.data.erros):alert("Ocorreu um erro ao processar a requisi\xe7\xe3o! Por favor, tente novamente.")})}},{key:"render",value:function(){var e=this,a=this.state.parceiro.endereco;return s.a.createElement("div",null,this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-9"},s.a.createElement("dl",{className:"row"},s.a.createElement("dt",{className:"col-sm-3"},"C\xf3digo"),s.a.createElement("dd",{className:"col-sm-9"},this.state.codigo),s.a.createElement("dt",{className:"col-sm-3"},"Data de cadastro"),s.a.createElement("dd",{className:"col-sm-9"},this.state.data_criacao?new Date(this.state.data_criacao).toLocaleDateString("pt-BR"):""),s.a.createElement("dt",{className:"col-sm-3"},"Parceiro"),s.a.createElement("dd",{className:"col-sm-9"},this.state.parceiro.nome),s.a.createElement("dt",{className:"col-sm-3"},"Funcionamento"),s.a.createElement("dd",{className:"col-sm-9"},this.state.parceiro.horario_funcionamento),s.a.createElement("dt",{className:"col-sm-3"},"Telefone"),s.a.createElement("dd",{className:"col-sm-9"},this.state.parceiro.telefone),s.a.createElement("dt",{className:"col-sm-3"},"Endere\xe7o"),s.a.createElement("dd",{className:"col-sm-9"},a.logradouro?"".concat(a.logradouro,", ").concat(a.numero," - ").concat(a.bairro):"",s.a.createElement("br",null),a.complemento),s.a.createElement("dt",{className:"col-sm-3"},"Status"),s.a.createElement("dd",{className:"col-sm-9"},this.state.status)),s.a.createElement("h3",null,"Cliente"),s.a.createElement("dl",{className:"row"},s.a.createElement("dt",{className:"col-sm-3"},"Matr\xedcula"),s.a.createElement("dd",{className:"col-sm-9"},this.state.cliente.cpf&&this.state.cliente.cpf.replace(/^(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")),s.a.createElement("dt",{className:"col-sm-3"},"Nome"),s.a.createElement("dd",{className:"col-sm-9"},this.state.cliente.nome),s.a.createElement("dt",{className:"col-sm-3"},"Telefone"),s.a.createElement("dd",{className:"col-sm-9"},this.state.cliente.telefone))),s.a.createElement("div",{className:"col-sm-3"},this.state.codigo?s.a.createElement(ae.a,{value:"http://localhost:4500/parceiro/#/agendamento/adicionar/".concat(this.state.codigo),className:"float-right"}):"")),s.a.createElement("h3",null,"Procedimentos"),s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Procedimento"),s.a.createElement("th",null,"Hor\xe1rio de Atendimento"),s.a.createElement("th",{width:"90"},"Qnt."),s.a.createElement("th",{width:"130"},"Valor Unit."),s.a.createElement("th",{width:"130"},"Desconto"))),s.a.createElement("tfoot",null,this.state.valor_representante>0&&s.a.createElement("tr",{className:"table-secondary"},s.a.createElement("td",{colSpan:"3"}),s.a.createElement("td",null,s.a.createElement("b",null,"Representante")),s.a.createElement("td",null,s.a.createElement("b",null,"R$ ".concat(this.state.valor_representante||0)))),this.state.valor_adicional_cartao>0&&s.a.createElement("tr",{className:"table-secondary"},s.a.createElement("td",{colSpan:"3"}),s.a.createElement("td",null,s.a.createElement("b",null,"Ajuste cart\xe3o")),s.a.createElement("td",null,s.a.createElement("b",null,"R$ ".concat(this.state.valor_adicional_cartao||0)))),s.a.createElement("tr",{className:"table-primary"},s.a.createElement("td",{colSpan:"3"}),s.a.createElement("td",null,s.a.createElement("b",null,"TOTAL")),s.a.createElement("td",null,s.a.createElement("b",null,"R$ ".concat(this.somaTotal()))))),s.a.createElement("tbody",null,this.state.procedimentos.map(function(a){return s.a.createElement("tr",{key:"agendamento-procedimento-".concat(a.codigo_tuss,"-").concat(a.quantidade)},s.a.createElement("td",null,a.codigo_tuss," - ",a.nome),s.a.createElement("td",null,a.horario_atendimento),s.a.createElement("td",null,a.quantidade),s.a.createElement("td",{width:"130"},"R$ ".concat(a.valor_total)),s.a.createElement("td",{width:"130"},"R$ ".concat(a.desconto),["pendente","realizado"].includes(e.state.status)&&s.a.createElement(te.a,{title:"Tem certeza que deseja remover este procedimento?",onConfirm:function(){return e.state.procedimentos.length>1?e.deleteProcedimento(a.id_parceiro_procedimento):e.cancelar()},okText:"Sim",cancelText:"N\xe3o"},s.a.createElement(j.a,{type:"button",size:"sm",outline:!0,color:"danger"},"Excluir"))))}))),s.a.createElement(F.a,{onClick:this.print,icon:"print",title:"Imprimir"}))}}]),a}(s.a.Component),oe=ne,re=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={movimentos:[],isLoaded:!1,message:"Carregando...",status:!1},t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.match&&this.props.match.params.id&&b.a.get("agendamento/".concat(this.props.match.params.id,"/movimentos")).then(function(a){e.setState({isLoaded:!0}),!1!==a.data.status?e.setState({movimentos:a.data,status:!0}):e.setState(a.data)}).catch(function(a){e.props.alertErro(a.response)})}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Data"),s.a.createElement("th",null,"Descri\xe7\xe3o"),s.a.createElement("th",null,"Usu\xe1rio"))),s.a.createElement("tbody",null,this.state.status?this.state.movimentos.map(function(e){return s.a.createElement("tr",{key:"mov".concat(e.id_movimento)},s.a.createElement("td",null,e.data_criacao.replace(/(\w{4})-(\w{2})-(\w{2}) (\w)/,"$3/$2/$1 $4")),s.a.createElement("td",null,e.descricao),s.a.createElement("td",null,s.a.createElement(k.a,{to:"/usuario/v/".concat(e.created_by)},e.email)))}):s.a.createElement("tr",null,s.a.createElement("td",{align:"center",colSpan:"3"},this.state.message)))))}}]),a}(s.a.Component),ce=Object(_.b)(null,function(e){return Object(O.b)({alertErro:C.a},e)})(re),le="Agendamentos",ie=function(e){return s.a.createElement(P.b,{title:le,icon:"file"},s.a.createElement(M,null))},se=function(e){e.props;var a=e.match;return s.a.createElement(P.b,{title:le,icon:"file"},s.a.createElement(Z,{match:a}))},me=function(e){function a(e){var t,o=e.props,l=e.match;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,o))).state={match:l},t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement(P.b,{title:le,icon:"file",className:"page-80mm"},s.a.createElement("ul",{className:"nav nav-tabs"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(u.a,{className:"nav-link",exact:!0,activeClassName:"active",to:"/agendamento/v/".concat(this.state.match.params.id)},"Detalhes")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(u.a,{className:"nav-link",exact:!0,activeClassName:"active",to:"/agendamento/v/".concat(this.state.match.params.id,"/movimentos")},"Movimentos"))),s.a.createElement("br",null),"movimentos"===this.state.match.params.action?s.a.createElement(ce,{match:this.state.match}):s.a.createElement(oe,{match:this.state.match}))}}]),a}(s.a.Component),de=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={searchOptions:[{name:"CPF/Matr\xedcula",value:"cpf",mask:"999.999.999-99"},{name:"Nome",value:"nome"}],isLoaded:!0},t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.caixas.length||(this.setState({isLoaded:!1}),b.a.get("caixa").then(function(a){e.setState({isLoaded:!0}),!1!==a.data.status&&e.props.changeState({caixas:a.data})}))}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table ".concat(this.state.isLoaded?"":"blur")},s.a.createElement("thead",{className:""},s.a.createElement("tr",null,s.a.createElement("th",null,"Data de abertura"),s.a.createElement("th",null,"Valor de abertura"),s.a.createElement("th",null,"Data de fechamento"),s.a.createElement("th",null,"Valor de fechamento"))),s.a.createElement("tbody",null,this.props.caixas.map(function(e){return s.a.createElement("tr",{key:"caixa".concat(e.id_caixa)},s.a.createElement("td",null,s.a.createElement(k.a,{to:"/caixa/v/".concat(e.id_caixa)},e.data_abertura.replace(/^(\d{4})-(\d{2})-(\d{2}) (.+)/,"$3/$2/$1 $4"))),s.a.createElement("td",null,"R$ ",e.valor_abertura.replace(".",",")),s.a.createElement("td",null,e.data_fechamento&&e.data_fechamento.replace(/^(\d{4})-(\d{2})-(\d{2}) (.+)/,"$3/$2/$1 $4")),s.a.createElement("td",null,e.valor_fechamento?"R$ ".concat(e.valor_fechamento.replace(".",",")):""))})))),s.a.createElement(F.a,{onClick:!1,to:"/caixa/adicionar"}))}}]),a}(s.a.Component),pe=Object(_.b)(function(e){return{caixas:e.pages.caixas}},function(e){return Object(O.b)({changeState:$.a,clearState:$.b},e)})(de),ue=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={valor_abertura:0,disabled:!1},t.handleChange=t.handleChange.bind(Object(S.a)(Object(S.a)(t))),t.addCaixa=t.addCaixa.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(x.a)({},e.target.name,e.target.value))}},{key:"addCaixa",value:function(e){var a=this;if(e.preventDefault(),this.state.disabled)return!1;this.setState({disabled:!0});var t={valor_abertura:this.state.valor_abertura};b.a.post("caixa",t).then(function(e){!1===e.data.status?alert(e.data.message):alert("Caixa aberto com sucesso!"),window.location.href="/#/caixa"}).catch(function(e){alert("Ocorreu um erro ao processar sua requisi\xe7\xe3o! Por favor tente novamente."),a.setState({disabled:!1})})}},{key:"render",value:function(){return s.a.createElement("form",{onSubmit:this.addCaixa},s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"valor_abertura"},"Valor de abertura"),s.a.createElement(j.j,{type:"text",name:"valor_abertura",id:"valor_abertura",value:this.state.valor_abertura,required:!0,onChange:this.handleChange,disabled:this.state.disabled})),s.a.createElement(j.a,{type:"submit",outline:!0,color:"primary"},"Salvar"))}}]),a}(s.a.Component),he=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={data_abertura:"",valor_abertura:"",data_fechamento:"",valor_fechamento:"",total_cartao:"",id_usuario:"",usuario_nome:"",pagamentos:[],entradas:"",saidas:"",isLoaded:!1},t.fechar=t.fechar.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.match&&this.props.match.params.id&&b.a.get("caixa/".concat(this.props.match.params.id)).then(function(a){var t=0,n=0;e.setState(Object(A.a)({},a.data[0])),a.data[0].pagamentos.forEach(function(e){e.valor_pago_especie&&(e.valor_pago_especie>0?t+=Number(e.valor_pago_especie)-Number(e.valor_troco):n+=Number(e.valor_pago_especie))}),e.setState({isLoaded:!0,entradas:t.toFixed(2),saidas:n.toFixed(2)})})}},{key:"fechar",value:function(){window.confirm("Tem certeza que deseja FECHAR O CAIXA?")&&b.a.put("caixa/fechar",{id_caixa:this.props.match.params.id}).then(function(e){if(!1!==e.data.status)window.location.reload();else{alert(e.data.message||"Ocorreu um erro ao tentar fechar o caixa! Por favor tente novamente.")}}).catch(function(e){alert("Ocorreu um erro ao processar a requisi\xe7\xe3o! Por favor, tente novamente.")})}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-9"},s.a.createElement("dl",{className:"row"},s.a.createElement("dt",{className:"col-sm-3"},"Data de abertura"),s.a.createElement("dd",{className:"col-sm-9"},this.state.data_abertura.replace(/^(\d{4})-(\d{2})-(\d{2}) (.+)/,"$3/$2/$1 $4")),s.a.createElement("dt",{className:"col-sm-3"},"Valor de abertura"),s.a.createElement("dd",{className:"col-sm-9"},"R$ ",this.state.valor_abertura.replace(".",",")),s.a.createElement("dt",{className:"col-sm-3"},"Data de fechamento"),s.a.createElement("dd",{className:"col-sm-9"},this.state.data_fechamento&&this.state.data_fechamento.replace(/^(\d{4})-(\d{2})-(\d{2}) (.+)/,"$3/$2/$1 $4")),s.a.createElement("dt",{className:"col-sm-3"},"Valor de fechamento"),s.a.createElement("dd",{className:"col-sm-9"},this.state.valor_fechamento?"R$ ".concat(this.state.valor_fechamento.replace(".",",")):""),s.a.createElement("dt",{className:"col-sm-3"},"Total pago no cart\xe3o"),s.a.createElement("dd",{className:"col-sm-9"},this.state.total_cartao?"R$ ".concat(this.state.total_cartao.replace(".",",")):""),s.a.createElement("dt",{className:"col-sm-3"},"Funcion\xe1rio"),s.a.createElement("dd",{className:"col-sm-9"},s.a.createElement(k.a,{to:"/usuario/v/".concat(this.state.id_usuario)},this.state.usuario_nome)),s.a.createElement("dt",{className:"col-sm-3"},"Entradas em esp\xe9cie"),s.a.createElement("dd",{className:"col-sm-9"},"R$ ",this.state.entradas.replace(".",",")),s.a.createElement("dt",{className:"col-sm-3"},"Sa\xeddas em esp\xe9cie"),s.a.createElement("dd",{className:"col-sm-9"},"R$ ",this.state.saidas.replace(".",","))))),s.a.createElement("h3",null,"Pagamentos"),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table ".concat(this.state.isLoaded?"":"blur")},s.a.createElement("thead",{className:""},s.a.createElement("tr",null,s.a.createElement("th",null,"Agendamentos"),s.a.createElement("th",null,"Pago em esp\xe9cie"),s.a.createElement("th",null,"Pago no cart\xe3o"),s.a.createElement("th",null,"Adicional do cart\xe3o"),s.a.createElement("th",null,"Troco"))),s.a.createElement("tbody",null,this.state.pagamentos.map(function(e){return s.a.createElement("tr",{key:"pagamento".concat(e.id_agendamento_pagamento),className:"status-".concat(e.valor_pago_especie>=0?"1":"cancelado")},s.a.createElement("td",null,e.agendamentos_codigos),s.a.createElement("td",null,"R$ ".concat(e.valor_pago_especie||"0.00")),s.a.createElement("td",null,"R$ ".concat(e.valor_pago_cartao||"0.00")),s.a.createElement("td",null,"R$ ".concat(e.valor_adicional_cartao||"0.00")),s.a.createElement("td",null,"R$ ".concat(e.valor_troco)))})))),s.a.createElement(F.a,{onClick:this.fechar,title:"Fechar caixa",icon:"money-check-alt"}))}}]),a}(s.a.Component),Ee=t(106),be=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={tipo:"entrada",descricao:"",valor_pago_especie:0,valor_pago_cartao:0,valor_adicional_cartao:0,valor_troco:0,disabled:!1},t.handleChange=t.handleChange.bind(Object(S.a)(Object(S.a)(t))),t.handleTipoChange=t.handleTipoChange.bind(Object(S.a)(Object(S.a)(t))),t.handleDecimalChange=t.handleDecimalChange.bind(Object(S.a)(Object(S.a)(t))),t.addTransacao=t.addTransacao.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(x.a)({},e.target.name,e.target.value))}},{key:"handleTipoChange",value:function(e){"saida"===e.target.value?this.setState({tipo:e.target.value,valor_troco:0,valor_adicional_cartao:0}):this.setState({tipo:e.target.value})}},{key:"handleDecimalChange",value:function(e){this.setState(Object(x.a)({},e.target.name,Object(Ee.a)(e.target.value)))}},{key:"addTransacao",value:function(e){var a=this;if(e.preventDefault(),this.state.disabled)return!1;this.setState({disabled:!0});var t={tipo:this.state.tipo,descricao:this.state.descricao,valor_pago_especie:this.state.valor_pago_especie,valor_pago_cartao:this.state.valor_pago_cartao,valor_adicional_cartao:this.state.valor_adicional_cartao,valor_troco:this.state.valor_troco};b.a.post("caixa/transacao",t).then(function(e){!1===e.data.status?alert(e.data.message):(alert("Transa\xe7\xe3o cadastrada com sucesso!"),window.location.href="/#/caixa")}).catch(function(e){alert("Ocorreu um erro ao processar sua requisi\xe7\xe3o! Por favor tente novamente."),a.setState({disabled:!1})})}},{key:"render",value:function(){return s.a.createElement("form",{onSubmit:this.addTransacao},s.a.createElement(j.q,null,s.a.createElement(j.b,{sm:"4",md:"3"},s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"tipo"},"Tipo"),s.a.createElement(j.j,{type:"select",name:"tipo",id:"tipo",value:this.state.tipo,required:!0,onChange:this.handleTipoChange,disabled:this.state.disabled},s.a.createElement("option",{value:"entrada"},"Entrada"),s.a.createElement("option",{value:"saida"},"Sa\xedda")))),s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"descricao"},"Descri\xe7\xe3o"),s.a.createElement(j.j,{type:"text",name:"descricao",id:"descricao",value:this.state.descricao,onChange:this.handleChange,disabled:this.state.disabled})))),s.a.createElement(j.q,null,s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"valor_pago_especie"},"Valor pago em esp\xe9cie"),s.a.createElement(j.j,{type:"text",name:"valor_pago_especie",id:"valor_pago_especie",value:this.state.valor_pago_especie,onChange:this.handleDecimalChange,disabled:this.state.disabled}))),s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"valor_pago_cartao"},"Valor pago no cart\xe3o"),s.a.createElement(j.j,{type:"text",name:"valor_pago_cartao",id:"valor_pago_cartao",value:this.state.valor_pago_cartao,onChange:this.handleDecimalChange,disabled:this.state.disabled}))),s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"valor_adicional_cartao"},"Valor adicional do cart\xe3o"),s.a.createElement(j.j,{type:"text",name:"valor_adicional_cartao",id:"valor_adicional_cartao",value:this.state.valor_adicional_cartao,onChange:this.handleDecimalChange,disabled:this.state.disabled||"saida"===this.state.tipo}))),s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"valor_troco"},"Troco"),s.a.createElement(j.j,{type:"text",name:"valor_troco",id:"valor_troco",value:this.state.valor_troco,onChange:this.handleDecimalChange,disabled:this.state.disabled||"saida"===this.state.tipo})))),s.a.createElement(j.a,{type:"submit",outline:!0,color:"primary"},"Salvar"))}}]),a}(s.a.Component),ve=function(e){return s.a.createElement(P.b,{title:"Caixa",icon:"cash-register"},s.a.createElement(pe,null))},fe=function(e){return s.a.createElement(P.b,{title:"Caixa",icon:"cash-register"},s.a.createElement(ue,null))},ge=function(e){e.props;var a=e.match;return s.a.createElement(P.b,{title:"Caixa",icon:"cash-register"},s.a.createElement(he,{match:a}))},_e=function(e){return s.a.createElement(P.b,{title:"Caixa",icon:"cash-register"},s.a.createElement(be,null))},Oe=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={searchOptions:[{name:"CPF/Matr\xedcula",value:"cpf",mask:"999.999.999-99"},{name:"Nome",value:"nome"}],isLoaded:!0},t.filter=t.filter.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.clientesById.length||(this.setState({isLoaded:!1}),b.a.get("cliente").then(function(a){e.setState({isLoaded:!0}),!1!==a.data.status&&e.props.changeState({clientesById:a.data})}))}},{key:"filter",value:function(e,a){var t=this,n=e?"cliente/".concat(e,"/").concat(a):"cliente";this.setState({isLoaded:!1}),this.props.clearState("clientesById"),b.a.get(n).then(function(e){t.setState({isLoaded:!0}),!1!==e.data.status&&t.props.changeState({clientesById:e.data})})}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement(B,{options:this.state.searchOptions,onSearch:this.filter}),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table ".concat(this.state.isLoaded?"":"blur")},s.a.createElement("thead",{className:""},s.a.createElement("tr",null,s.a.createElement("th",null,"Nome"),s.a.createElement("th",null,"CPF/Matr\xedcula"))),s.a.createElement("tbody",null,this.props.clientesById.map(function(e){return s.a.createElement("tr",{key:"cliente".concat(e.id_cliente)},s.a.createElement("td",null,s.a.createElement(k.a,{to:"/cliente/v/".concat(e.id_cliente)},e.nome)),s.a.createElement("td",null,e.cpf.replace(/^(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")))})))),s.a.createElement(F.a,{onClick:!1,to:"/cliente/adicionar"}))}}]),a}(s.a.Component),je=Object(_.b)(function(e){return{clientesById:e.pages.clientesById}},function(e){return Object(O.b)({changeState:$.a,clearState:$.b},e)})(Oe),Ce=t(44),Ne=t(91),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=b.a.get("".concat("cliente","/").concat(e));return function(e){t.then(function(t){e({type:"CLIENTE_GET",payload:t.data}),a()})}},Pe=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={disabled:e.disabled,disabledPF:!1},t.addCliente=t.addCliente.bind(Object(S.a)(Object(S.a)(t))),t.cbCPF=t.cbCPF.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.clear("CLIENTE"),this.props.match&&this.props.match.params.id&&this.props.getCliente(this.props.match.params.id)}},{key:"addCliente",value:function(e){var a=this;if(e.preventDefault(),this.state.disabled)return!1;var t={pf:Object(A.a)({},this.props.pf),endereco:Object(A.a)({},this.props.endereco)};this.setState({disabled:!0}),b.a.post("cliente",t).then(function(e){!1===e.data.status?a.props.alertErro(e.data.message):(a.props.clear("CLIENTE"),a.props.clearState("clientesById"),alert("Cliente adicionado com sucesso!")),a.setState({disabled:!1,disabledPF:!1})}).catch(function(e){alert("Ocorreu um erro ao processar sua requisi\xe7\xe3o! Por favor tente novamente."),a.setState({disabled:!1})})}},{key:"cbCPF",value:function(e){e.id_cliente?(alert("CLIENTE J\xc1 CADASTRADO"),window.location.href="/#/cliente/v/".concat(e.id_cliente)):e.id_pessoa_fisica&&(this.setState({disabledPF:!0}),this.props.change({target:{name:"pf.id_pessoa_fisica"}},e.id_pessoa_fisica),this.props.update(e.pf,"pf"))}},{key:"render",value:function(){return s.a.createElement("form",{onSubmit:this.addCliente},s.a.createElement(Ce.a,{pf:this.props.pf,change:this.state.disabled?void 0:this.props.change,cbCPF:this.cbCPF,disabled:this.state.disabled||this.state.disabledPF}),s.a.createElement(Ne.a,{endereco:this.props.endereco,change:this.state.disabled?void 0:this.props.change,disabled:this.state.disabled}),this.state.disabled?"":s.a.createElement(j.a,{type:"submit",outline:!0,color:"primary"},"Salvar"))}}]),a}(s.a.Component),Se=Object(_.b)(function(e){return{cpf:e.clienteForm.cpf,pf:e.clienteForm.pf,endereco:e.clienteForm.endereco}},function(e){return Object(O.b)({alertErro:C.a,change:Object(W.b)("CLIENTE"),update:Object(W.e)("CLIENTE"),clear:W.a,getCliente:ye,clearState:$.b},e)})(Pe),ke=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={disabled:e.disabled},t.updateCliente=t.updateCliente.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.clear("CLIENTE"),this.props.match&&this.props.match.params.id&&this.props.getCliente(this.props.match.params.id,function(){return e.props.change("isLoaded",!0)})}},{key:"updateCliente",value:function(e){var a=this;if(e.preventDefault(),this.state.disabled)return!1;this.setState({disabled:!0});var t={id_cliente:this.props.match.params.id,pf:Object(A.a)({},this.props.pf),endereco:Object(A.a)({},this.props.endereco)};b.a.put("cliente",t).then(function(e){!1===e.data.status?(a.props.alertErro(e.data.message),a.setState({disabled:!1})):(a.props.clear("CLIENTE"),a.props.clearState("clientesById"),alert("Cliente atualizado com sucesso!"),window.location.href="/#/cliente/v/".concat(a.props.match.params.id))}).catch(function(e){a.props.alertErro("Ocorreu um erro ao processar sua requisi\xe7\xe3o. Por favor tente novamente!"),a.setState({disabled:!1})})}},{key:"render",value:function(){return s.a.createElement("form",{onSubmit:this.updateCliente},this.props.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement(Ce.a,{pf:this.props.pf,change:this.state.disabled?void 0:this.props.change,disabled:this.state.disabled}),s.a.createElement(Ne.a,{endereco:this.props.endereco,change:this.state.disabled?void 0:this.props.change,disabled:this.state.disabled}),s.a.createElement(j.a,{type:"submit",outline:!0,color:"primary",disabled:this.state.disabled},"Salvar"),s.a.createElement(F.a,{onClick:!1,icon:"arrow-left",title:"Voltar",to:"/cliente/v/".concat(this.props.match.params.id)}))}}]),a}(s.a.Component),Fe=Object(_.b)(function(e){return{pf:e.clienteForm.pf,endereco:e.clienteForm.endereco,isLoaded:e.clienteForm.isLoaded}},function(e){return Object(O.b)({alertErro:C.a,getCliente:ye,change:Object(W.b)("CLIENTE"),update:Object(W.e)("CLIENTE"),clear:W.a,clearState:$.b},e)})(ke),Re=t(147),xe=function(e){function a(){return Object(n.a)(this,a),Object(r.a)(this,Object(c.a)(a).apply(this,arguments))}return Object(l.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h3",null,"Endere\xe7o"),s.a.createElement("dl",{className:"row"},s.a.createElement("dt",{className:"col-sm-3"},"Logradouro"),s.a.createElement("dd",{className:"col-sm-9"},this.props.endereco.logradouro),s.a.createElement("dt",{className:"col-sm-3"},"N\xfamero"),s.a.createElement("dd",{className:"col-sm-9"},this.props.endereco.numero),s.a.createElement("dt",{className:"col-sm-3"},"Bairro"),s.a.createElement("dd",{className:"col-sm-9"},this.props.endereco.bairro),s.a.createElement("dt",{className:"col-sm-3"},"Complemento"),s.a.createElement("dd",{className:"col-sm-9"},this.props.endereco.complemento),s.a.createElement("dt",{className:"col-sm-3"},"CEP"),s.a.createElement("dd",{className:"col-sm-9"},this.props.endereco.cep&&this.props.endereco.cep.replace(/^(\d{5})(\d{3})/,"$1-$2")),s.a.createElement("dt",{className:"col-sm-3"},"Cidade"),s.a.createElement("dd",{className:"col-sm-9"},this.props.endereco.cidade),s.a.createElement("dt",{className:"col-sm-3"},"Estado"),s.a.createElement("dd",{className:"col-sm-9"},this.props.endereco.estado)))}}]),a}(s.a.Component),Ae=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={foto:"",status:"",pf:{},endereco:{},isLoaded:!1},t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentWillMount",value:function(){var e=this;this.props.match&&this.props.match.params.id&&b.a.get("cliente/".concat(this.props.match.params.id)).then(function(a){e.setState(Object(A.a)({isLoaded:!0},a.data))})}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement("div",{className:"carteira"},s.a.createElement("div",{className:"carteira-frente"},s.a.createElement("p",{className:"carteira-logo"},"Consulta F\xe1cil"),s.a.createElement("small",null,"localhost:4500"),s.a.createElement("div",{className:"carteira-dados"},s.a.createElement("h5",null,"N\xfamero"),s.a.createElement("p",null,this.state.pf.cpf),s.a.createElement("h5",null,"Nome"),s.a.createElement("p",null,this.state.pf.nome)))),s.a.createElement("div",{className:"d-print-none"},s.a.createElement("dl",{className:"row"},s.a.createElement("dt",{className:"col-sm-3"},"Matr\xedcula"),s.a.createElement("dd",{className:"col-sm-9"},this.state.pf.cpf&&this.state.pf.cpf.replace(/^(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"))),s.a.createElement(Re.a,{pf:this.state.pf}),s.a.createElement(xe,{endereco:this.state.endereco}),s.a.createElement(F.a,{onClick:!1,icon:"pencil-alt",title:"Editar",to:"/cliente/e/".concat(this.props.match.params.id)})))}}]),a}(s.a.Component),Te=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={agendamentos:[],searchOptions:[{name:"Nome",value:"nome"},{name:"C\xf3digo",value:"codigo",mask:"99999999"}],status:!1,message:"Carregando...",isLoaded:!1},t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.match&&this.props.match.params.id&&b.a.get("cliente/".concat(this.props.match.params.id,"/agendamento")).then(function(a){e.setState({isLoaded:!0}),!1===a.data.status?e.setState(a.data):e.setState({agendamentos:a.data,status:!0})})}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"C\xf3digo"),s.a.createElement("th",null,"Parceiro"),s.a.createElement("th",null,"Data"),s.a.createElement("th",null,"Valor"),s.a.createElement("th",null,"Status"))),s.a.createElement("tbody",null,this.state.status?this.state.agendamentos.map(function(e){return s.a.createElement("tr",{key:"cliage".concat(e.id_agendamento),className:"status-".concat(e.status)},s.a.createElement("td",null,s.a.createElement(k.a,{to:"/agendamento/v/".concat(e.id_agendamento)},e.codigo)),s.a.createElement("td",null,s.a.createElement(k.a,{to:"/parceiro/v/".concat(e.parceiro.id_parceiro)},e.parceiro.nome)),s.a.createElement("td",null,e.data_criacao.replace(/^(\d{4})-(\d{2})-(\d{2}) (\d)/,"$3/$2/$1 $4")),s.a.createElement("td",null,"R$ ".concat(e.total.replace(".",","))),s.a.createElement("td",null,e.status))}):s.a.createElement("tr",null,s.a.createElement("td",{align:"center",colSpan:"5"},this.state.message)))),this.state.status?s.a.createElement(F.a,{onClick:!1,to:"/agendamento/adicionar/".concat(this.state.agendamentos[0].cliente.cpf)}):"")}}]),a}(s.a.Component),Le=function(e){return s.a.createElement(P.b,{title:"Clientes",icon:"address-card"},s.a.createElement(je,null))},De=function(e){return s.a.createElement(P.b,{title:"Clientes",icon:"address-card"},s.a.createElement(Se,null))},Be=function(e){e.props;var a=e.match;return s.a.createElement(P.b,{title:"Clientes",icon:"address-card"},s.a.createElement(Fe,{match:a}))},Ie=function(e){function a(e){var t,o=e.props,l=e.match;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,o))).state={match:l},t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement(P.b,{title:"Clientes",icon:"address-card"},s.a.createElement("ul",{className:"nav nav-tabs"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(u.a,{className:"nav-link",exact:!0,activeClassName:"active",to:"/cliente/v/".concat(this.state.match.params.id)},"Detalhes")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(u.a,{className:"nav-link",exact:!0,activeClassName:"active",to:"/cliente/v/".concat(this.state.match.params.id,"/agendamentos")},"Agendamentos"))),s.a.createElement("br",null),"agendamentos"===this.state.match.params.action?s.a.createElement(Te,{match:this.state.match}):s.a.createElement(Ae,{match:this.state.match}))}}]),a}(s.a.Component),$e=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={searchOptions:[{name:"Parceiro CPF",value:"cpf",mask:"999.999.999-99"},{name:"Parceiro CNPJ",value:"cnpj",mask:"99.999.999/9999-99"}],searchFilters:[{name:"Data de cadastro",value:"data_criacao",props:{type:"date"}},{name:"Status",value:"status",type:"select",options:[{value:"pendente",label:"Pendente"},{value:"realizado",label:"Realizado"},{value:"cancelado",label:"Cancelado"}]}],isLoaded:!0},t.filter=t.filter.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.financeiroById.length||(this.setState({isLoaded:!1}),b.a.get("financeiro").then(function(a){e.setState({isLoaded:!0}),!1!==a.data.status&&e.props.changeState({financeiroById:a.data})}))}},{key:"filter",value:function(e,a,t){var n=this,o=e?"financeiro/".concat(e,"/").concat(a,"?").concat(t):"financeiro?".concat(t);this.setState({isLoaded:!1}),this.props.clearState("financeiroById"),b.a.get(o).then(function(e){n.setState({isLoaded:!0}),!1!==e.data.status&&n.props.changeState({financeiroById:e.data})})}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement(B,{options:this.state.searchOptions,filters:this.state.searchFilters,onSearch:this.filter}),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table ".concat(this.state.isLoaded?"":"blur")},s.a.createElement("thead",{className:""},s.a.createElement("tr",null,s.a.createElement("th",null,"C\xf3digo"),s.a.createElement("th",null,"Parceiro"),s.a.createElement("th",null,"Data de cadastro"),s.a.createElement("th",null,"Status"),s.a.createElement("th",null,"Valor"),s.a.createElement("th",null,"A\xe7\xf5es"))),s.a.createElement("tbody",null,this.props.financeiroById.map(function(e){return s.a.createElement(qe,{key:"fin".concat(e.id_financeiro),financeiro:e})})))),s.a.createElement(F.a,{onClick:!1,to:"/financeiro/adicionar"}))}}]),a}(s.a.Component),we=Object(_.b)(function(e){return{financeiroById:e.pages.financeiroById}},function(e){return Object(O.b)({changeState:$.a,clearState:$.b},e)})($e),qe=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={isOpen:!1},t.pagar=t.pagar.bind(Object(S.a)(Object(S.a)(t))),t.cancelar=t.cancelar.bind(Object(S.a)(Object(S.a)(t))),t.toggle=t.toggle.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"pagar",value:function(){window.confirm("Tem certeza que deseja CONFIRMAR O PAGAMENTO?")&&b.a.put("financeiro/pagar",{id_financeiro:this.props.financeiro.id_financeiro}).then(function(e){!1!==e.data.status?window.location.reload():alert("Ocorreu um erro ao confirmar o pagamento! Por favor tente novamente.")}).catch(function(e){alert("Ocorreu um erro ao processar a requisi\xe7\xe3o! Por favor, tente novamente.")})}},{key:"cancelar",value:function(){window.confirm("Tem certeza que deseja CANCELAR O AGAMENTAMENTO?")&&b.a.put("financeiro/cancelar",{id_financeiro:this.props.financeiro.id_financeiro}).then(function(e){!1!==e.data.status?window.location.reload():alert("Ocorreu um erro ao tentar cancelar o agendamento! Por favor tente novamente.")}).catch(function(e){alert("Ocorreu um erro ao processar a requisi\xe7\xe3o! Por favor, tente novamente.")})}},{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){var e=this.props.financeiro;return s.a.createElement("tr",{className:"status-".concat(e.status)},s.a.createElement("td",null,s.a.createElement(k.a,{to:"/financeiro/v/".concat(e.id_financeiro)},e.codigo)),s.a.createElement("td",null,s.a.createElement(k.a,{to:"/parceiro/v/".concat(e.id_parceiro)},e.nome_parceiro)),s.a.createElement("td",null,e.data_criacao&&e.data_criacao.replace(/(\w{4})-(\w{2})-(\w{2}) (\w)/,"$3/$2/$1 $4")),s.a.createElement("td",null,e.status),s.a.createElement("td",null,"R$ ".concat(e.total_parceiro)),s.a.createElement("td",null,"pendente"===e.status?s.a.createElement(j.d,{size:"sm",direction:"down",isOpen:this.state.isOpen,toggle:this.toggle},s.a.createElement(j.g,{color:"light"},s.a.createElement(E.a,{icon:"ellipsis-h"})),s.a.createElement(j.f,null,s.a.createElement(j.e,{onClick:this.pagar},"Pagar"),s.a.createElement(j.e,{onClick:this.cancelar},"Cancelar"))):""))}}]),a}(s.a.Component),Me=t(81),Ve=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(t){e?b.a.get("agendamento/realizados/".concat(e.value)).then(function(e){!1===e.data.status?t({type:"FINANCEIRO_FILTER_AGENDAMENTOS",payload:[]}):t({type:"FINANCEIRO_FILTER_AGENDAMENTOS",payload:e.data}),a()}):t({type:"FINANCEIRO_FILTER_AGENDAMENTOS",payload:[]})}},ze=function(e){return{type:"FINANCEIRO_AGENDAMENTO_CHECK",payload:e.target.value}},Je=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={financeiro_tipo:"ciclo",isLoaded:!0,disabled:!1,total:0},t.addFinanceiro=t.addFinanceiro.bind(Object(S.a)(Object(S.a)(t))),t.somaProcedimentos=t.somaProcedimentos.bind(Object(S.a)(Object(S.a)(t))),t.changeTipoFinanceiro=t.changeTipoFinanceiro.bind(Object(S.a)(Object(S.a)(t))),t.geraFinanceiro=t.geraFinanceiro.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.parceirosOptions.length||this.props.getParceirosOptions()}},{key:"addFinanceiro",value:function(e){var a=this;if(e.preventDefault(),this.state.disabled)return!1;var t={id_parceiro:this.props.id_parceiro.value,agendamentos:this.props.agendamentos};this.setState({disabled:!0}),b.a.post("financeiro",t).then(function(e){!1===e.data.status?a.props.alertErro(e.data.message):(a.props.clear("FINANCEIRO"),a.props.clearState("financeiroById"),a.props.clearState("agendamentosById"),alert("Financeiro cadastrado com sucesso!")),a.setState({total:0,disabled:!1})}).catch(function(e){e.response&&a.props.alertErro(e.response.data.erros),a.setState({disabled:!1})})}},{key:"toggleSelects",value:function(e){document.querySelectorAll(".check-agendamento").forEach(function(a){a.checked!==e.target.checked&&a.click()})}},{key:"somaProcedimentos",value:function(){var e=0;document.querySelectorAll(".check-agendamento:checked").forEach(function(a){e+=parseFloat(a.parentElement.parentElement.querySelector(".agendamento-valor").innerText.replace("R$ ",""))}),this.setState({total:e})}},{key:"changeTipoFinanceiro",value:function(e){this.setState({financeiro_tipo:e.target.value})}},{key:"geraFinanceiro",value:function(){var e=this;if(!this.state.isLoaded)return!1;this.setState({isLoaded:!1}),b.a.post("financeiro/fecha_ciclos").then(function(a){e.setState({isLoaded:!0}),!1===a.data.status?e.props.alertErro(a.data.message):(alert("Financeiro(s) gerado(s) com sucesso!"),window.location.href="/#/financeiro")}).catch(function(a){e.setState({isLoaded:!0}),alert("Ocorreu um erro ao processar a requisi\xe7\xe3o!")})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement(Me.a.Group,{onChange:this.changeTipoFinanceiro,value:this.state.financeiro_tipo,className:"mb-3"},s.a.createElement(Me.a,{value:"ciclo"},"Em lote"),s.a.createElement(Me.a,{value:"individual"},"Individual")),"ciclo"===this.state.financeiro_tipo?s.a.createElement("div",null,s.a.createElement("p",null,"Ao clicar no bot\xe3o abaixo ser\xe3o gerados ",s.a.createElement("b",null,"financeiros")," automaticamente para todos os parceiros com ciclo fechados at\xe9 a presente data."),s.a.createElement(j.a,{outline:!0,color:"primary",onClick:this.geraFinanceiro,disabled:!this.state.isLoaded},"Gerar financeiro em lote")):"individual"===this.state.financeiro_tipo?s.a.createElement("form",{onSubmit:this.addFinanceiro},s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"id_parceiro"},"Parceiro"),s.a.createElement(D.a,{options:this.props.parceirosOptions,value:this.props.id_parceiro,onChange:function(a){e.setState({isLoaded:!1}),e.props.changeSelect("id_parceiro",a),e.props.filterAgendamentosByParceiro(a,function(){e.setState({isLoaded:!0})})},type:"text",name:"id_parceiro",id:"id_parceiro",placeholder:"Selecione...",noResultsText:"Nenhum parceiro encontrado"})),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table"},s.a.createElement("thead",{className:""},s.a.createElement("tr",null,s.a.createElement("th",null,s.a.createElement("input",{type:"checkbox",onChange:this.toggleSelects})),s.a.createElement("th",null,"N\xfamero"),s.a.createElement("th",null,"Cliente CPF"),s.a.createElement("th",null,"Total Parceiro"),s.a.createElement("th",null,"Comiss\xe3o"),s.a.createElement("th",null,"Status"))),s.a.createElement("tfoot",null,s.a.createElement("tr",{className:"table-primary"},s.a.createElement("td",{colSpan:"4"}),s.a.createElement("td",null,s.a.createElement("b",null,"TOTAL PARCEIRO")),s.a.createElement("td",null,s.a.createElement("b",null,"R$ ".concat(this.state.total))))),s.a.createElement("tbody",null,this.props.parceiroAgendamentos.map(function(a){return s.a.createElement("tr",{key:"agendamento".concat(a.id_agendamento),className:"status-".concat(a.status)},s.a.createElement("td",null,s.a.createElement("input",{type:"checkbox",className:"check-agendamento",value:a.id_agendamento,onChange:function(a){e.props.checkAgendamento(a),e.somaProcedimentos()}})),s.a.createElement("td",null,s.a.createElement(k.a,{to:"/agendamento/v/".concat(a.id_agendamento)},a.codigo)),s.a.createElement("td",null,s.a.createElement(k.a,{to:"/cliente/v/".concat(a.cliente.id_cliente)},a.cliente.cpf.replace(/^(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"))),s.a.createElement("td",{className:"agendamento-valor"},"R$ ".concat(a.total_parceiro)),s.a.createElement("td",null,"R$ ".concat(a.total_comissao)),s.a.createElement("td",null,a.status))})))),s.a.createElement(j.a,{type:"submit",outline:!0,color:"primary"},"Adicionar")):"")}}]),a}(s.a.Component),Ge=Object(_.b)(function(e){return{parceirosOptions:e.app.parceirosOptions,id_parceiro:e.financeiroForm.id_parceiro,agendamentos:e.financeiroForm.agendamentos,parceiroAgendamentos:e.financeiroForm.parceiroAgendamentos}},function(e){return Object(O.b)({alertErro:C.a,change:Object(W.b)("FINANCEIRO"),changeSelect:Object(W.d)("FINANCEIRO"),clear:W.a,clearState:$.b,getParceirosOptions:K.c,filterAgendamentosByParceiro:Ve,checkAgendamento:ze},e)})(Je),He=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={financeiro:{},isLoaded:!1},t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.match&&this.props.match.params.id&&b.a.get("financeiro/".concat(this.props.match.params.id)).then(function(a){e.setState({isLoaded:!0,financeiro:a.data[0]})})}},{key:"render",value:function(){var e=this.state.financeiro;return s.a.createElement("div",null,this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement("dl",{className:"row"},s.a.createElement("dt",{className:"col-sm-3"},"C\xf3digo"),s.a.createElement("dd",{className:"col-sm-9"},e.codigo),s.a.createElement("dt",{className:"col-sm-3"},"Parceiro"),s.a.createElement("dd",{className:"col-sm-9"},s.a.createElement(k.a,{to:"/parceiro/v/".concat(e.id_parceiro)},e.nome_parceiro)),s.a.createElement("dt",{className:"col-sm-3"},"Data de cadastro"),s.a.createElement("dd",{className:"col-sm-9"},e.data_criacao&&e.data_criacao.replace(/(\w{4})-(\w{2})-(\w{2}) (\w)/,"$3/$2/$1 $4")),s.a.createElement("dt",{className:"col-sm-3"},"Status"),s.a.createElement("dd",{className:"col-sm-9"},e.status),s.a.createElement("dt",{className:"col-sm-3"},"Valor"),s.a.createElement("dd",{className:"col-sm-9"},"R$ ",e.total_parceiro)),s.a.createElement("h3",null,"Agendamentos"),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table ".concat(this.state.isLoaded?"":"blur")},s.a.createElement("thead",{className:""},s.a.createElement("tr",null,s.a.createElement("th",null,"N\xfamero"),s.a.createElement("th",null,"Cliente CPF"),s.a.createElement("th",null,"Total"),s.a.createElement("th",null,"Status"))),s.a.createElement("tbody",null,e.agendamentos&&e.agendamentos.map(function(e){return s.a.createElement("tr",{key:"agendamento".concat(e.id_agendamento),className:"status-".concat(e.status)},s.a.createElement("td",null,s.a.createElement(k.a,{to:"/agendamento/v/".concat(e.id_agendamento)},e.codigo)),s.a.createElement("td",null,s.a.createElement(k.a,{to:"/cliente/v/".concat(e.id_cliente)},e.cpf.replace(/^(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"))),s.a.createElement("td",null,"R$ ".concat(e.valor_parceiro)),s.a.createElement("td",null,e.status))})))),s.a.createElement(F.a,{icon:"pencil-alt",title:"Editar"}))}}]),a}(s.a.Component),Ue=function(e){return s.a.createElement(P.b,{title:"Financeiro",icon:"dollar-sign"},s.a.createElement(we,null))},Qe=function(e){e.props;var a=e.match;return s.a.createElement(P.b,{title:"Financeiro",icon:"dollar-sign"},s.a.createElement(Ge,{match:a}))},Ke=function(e){e.props;var a=e.match;return s.a.createElement(P.b,{title:"Financeiro",icon:"dollar-sign"},s.a.createElement(He,{match:a}))},We=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={searchOptions:[{name:"Nome",value:"nome"},{name:"CPF",value:"cpf",mask:"999.999.999-99"},{name:"CNPJ",value:"cnpj",mask:"99.999.999/9999-99"}],isLoaded:!0},t.filter=t.filter.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.parceirosById.length||(this.setState({isLoaded:!1}),b.a.get("parceiro").then(function(a){e.setState({isLoaded:!0}),!1!==a.data.status&&e.props.changeState({parceirosById:a.data})}))}},{key:"filter",value:function(e,a){var t=this,n=e?"parceiro/".concat(e,"/").concat(a):"parceiro";this.setState({isLoaded:!1}),this.props.clearState("parceirosById"),b.a.get(n).then(function(e){t.setState({isLoaded:!0}),!1!==e.data.status&&t.props.changeState({parceirosById:e.data})})}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement(B,{options:this.state.searchOptions,onSearch:this.filter}),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table ".concat(this.state.isLoaded?"":"blur")},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Nome"),s.a.createElement("th",null,"CPF/CNPJ"),s.a.createElement("th",null,"Tipo"),s.a.createElement("th",null,"Status"))),s.a.createElement("tbody",null,this.props.parceirosById.map(function(e){return s.a.createElement("tr",{key:"parceiro".concat(e.id_parceiro),className:"status-".concat(e.status)},s.a.createElement("td",null,s.a.createElement(k.a,{to:"/parceiro/v/".concat(e.id_parceiro)},e.nome)),s.a.createElement("td",null,e.cpf?e.cpf.replace(/^(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):e.cnpj?e.cnpj.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"):""),s.a.createElement("td",null,["Pessoa F\xedsica","Pessoa Jur\xeddica"][e.tipo]),s.a.createElement("td",null,["inativo","ativo"][e.status]))})))),s.a.createElement(F.a,{onClick:!1,to:"/parceiro/adicionar"}))}}]),a}(s.a.Component),Xe=Object(_.b)(function(e){return{parceirosById:e.pages.parceirosById}},function(e){return Object(O.b)({changeState:$.a,clearState:$.b},e)})(We),Ye=t(148),Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=b.a.get("parceiro/".concat(e,"/procedimento/").concat(a));return function(e){n.then(function(a){!1===a.data.status?e({type:"PARCEIRO_PROCEDIMENTO_GET",payload:[]}):e({type:"PARCEIRO_PROCEDIMENTO_GET",payload:a.data[0]}),t()})}},ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=b.a.get("parceiro/".concat(e));return function(e){t.then(function(t){e({type:"PARCEIRO_GET",payload:t.data}),a()})}},aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=b.a.get("pessoa-fisica/".concat(e.replace(/\.|-/g,"")));return function(e){a.then(function(a){return e({type:"PARCEIRO_PF_GET",payload:a.data})}).catch(function(e){return ra})}},ta=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=b.a.get("pessoa-juridica/".concat(e.replace(/\.|-|\//g,"")));return function(e){a.then(function(a){return e({type:"PARCEIRO_PJ_GET",payload:a.data})}).catch(function(e){return ca})}},na=function(){return{type:"PARCEIRO_PF_CLEAR"}},oa=function(){return{type:"PARCEIRO_PJ_CLEAR"}},ra=function(){return{type:"PARCEIRO_TOGGLE_CPF"}},ca=function(){return{type:"PARCEIRO_TOGGLE_CNPJ"}},la=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={bancosOptions:[{label:"Banco Bradesco",value:"Banco Bradesco"},{label:"Caixa Econ\xf4mica Federal",value:"Caixa Econ\xf4mica Federal"},{label:"Banco Citibank",value:"Banco Citibank"},{label:"Banco do Brasil",value:"Banco do Brasil"},{label:"Banco do Nordeste",value:"Banco do Nordeste"},{label:"Banco Ita\xfa",value:"Banco Ita\xfa"},{label:"Banco Mercantil do Brasil",value:"Banco Mercantil do Brasil"},{label:"Banco Pan",value:"Banco Pan"},{label:"Banco Real",value:"Banco Real"},{label:"Banco Rendimento",value:"Banco Rendimento"},{label:"Banco Rural",value:"Banco Rural"},{label:"Banco Safra",value:"Banco Safra"},{label:"Banco Santander",value:"Banco Santander"},{label:"Nuconta",value:"Nuconta"},{label:"HSBC Bank Brasil \u2013 Banco M\xfaltiplo",value:"HSBC Bank Brasil \u2013 Banco M\xfaltiplo"}],disabled:e.disabled},t.addParceiro=t.addParceiro.bind(Object(S.a)(Object(S.a)(t))),t.cbCPFCNPJ=t.cbCPFCNPJ.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.clear("PARCEIRO")}},{key:"cbCPFCNPJ",value:function(e){e.id_parceiro?(alert("PARCEIRO J\xc1 CADASTRADO"),window.location.href="/#/parceiro/v/".concat(e.id_parceiro)):e.id_pessoa_fisica?(this.props.change({target:{name:"disabledPF"}},!0),this.props.change({target:{name:"id_pessoa"}},e.id_pessoa),this.props.update(e.pf,"pf")):e.id_pessoa_juridica&&(this.props.change({target:{name:"disabledPJ"}},!0),this.props.change({target:{name:"id_pessoa"}},e.id_pessoa),this.props.update(e.pj,"pj"))}},{key:"addParceiro",value:function(e){var a=this;if(e.preventDefault(),this.state.disabled)return!1;var t={nome:this.props.nome,tipo:this.props.tipo,banco:this.props.banco.value,agencia:this.props.agencia,conta:this.props.conta,horario_funcionamento:this.props.horario_funcionamento,ciclo_pagamento:this.props.ciclo_pagamento,email:this.props.email,senha:this.props.senha,senha_confirma:this.props.senha_confirma,endereco:Object(A.a)({},this.props.endereco),id_pessoa:this.props.id_pessoa};"1"===t.tipo?t.pj=Object(A.a)({},this.props.pj):t.pf=Object(A.a)({},this.props.pf),this.setState({disabled:!0}),b.a.post("parceiro",t).then(function(e){!1===e.status?a.props.alertErro(e.data.message):(a.props.clear("PARCEIRO"),a.props.clearState("parceirosById"),alert("Parceiro adicionado com sucesso!")),a.setState({disabled:!1})}).catch(function(e){e.response.data&&e.response.data.erros?a.props.alertErro(e.response.data.erros):a.props.alertErro("Ocorreu um erro ao processar a requisi\xe7\xe3o. Por favor, tente novamente!"),a.setState({disabled:!1})})}},{key:"valida",value:function(){var e=this.formEl,a=e.length;if(!1===e.checkValidity()){for(var t=0;t<a;t++){var n=e[t],o=n.parentNode.querySelector(".invalid-feedback");o&&"button"!==n.nodeName.toLowerCase()&&(n.validity.valid?o.textContent="":o.textContent=n.validationMessage)}return!1}for(var r=0;r<a;r++){var c=e[r],l=c.parentNode.querySelector(".invalid-feedback");l&&"button"!==c.nodeName.toLowerCase()&&(l.textContent="")}return!0}},{key:"render",value:function(){var e=this;return s.a.createElement("form",{onSubmit:this.addParceiro},s.a.createElement(j.q,null,s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"nome"},"Nome"),s.a.createElement(j.j,{type:"text",name:"nome",id:"nome",value:this.props.nome,onChange:this.state.disabled||this.props.change,disabled:this.state.disabled,required:!0}),s.a.createElement(j.i,null,"Nome que ser\xe1 mostrado para os usu\xe1rios durante a pesquisa."))),s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"tipo"},"Tipo"),s.a.createElement(j.j,{type:"select",name:"tipo",id:"tipo",value:this.props.tipo,onChange:this.state.disabled||this.props.change,disabled:this.state.disabled,required:!0},s.a.createElement("option",{value:""},"Escolha um tipo de pessoa"),s.a.createElement("option",{value:"0"},"Pessoa F\xedsica"),s.a.createElement("option",{value:"1"},"Pessoa Jur\xeddica"))))),s.a.createElement(j.q,null,s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"horario_funcionamento"},"Hor\xe1rio de funcionamento"),s.a.createElement(j.j,{type:"text",name:"horario_funcionamento",id:"horario_funcionamento",value:this.props.horario_funcionamento,onChange:this.state.disabled||this.props.change,disabled:this.state.disabled,required:!0}),s.a.createElement(j.i,null,"Ex: 07:00 as 18:00"))),s.a.createElement(j.b,{sm:"3"},s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"ciclo_pagamento"},"Ciclo de Pagamento"),s.a.createElement(j.j,{type:"select",name:"ciclo_pagamento",id:"ciclo_pagamento",value:this.props.ciclo_pagamento,onChange:this.state.disabled||this.props.change,disabled:this.state.disabled,required:!0},s.a.createElement("option",{value:"30"},"30 dias"),s.a.createElement("option",{value:"15"},"15 dias"),s.a.createElement("option",{value:"7"},"7 dias"))))),"0"===this.props.tipo?s.a.createElement("div",null,s.a.createElement(Ce.a,{pf:this.props.pf,change:this.props.change,cbCPF:this.cbCPFCNPJ,disabled:this.state.disabled||this.props.disabledPF})):"1"===this.props.tipo?s.a.createElement("div",null,s.a.createElement(Ye.a,{pj:this.props.pj,change:this.props.change,cbCNPJ:this.cbCPFCNPJ,disabled:this.state.disabled||this.props.disabledPJ})):"",s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Dados Banc\xe1rios"),s.a.createElement(j.q,null,s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"banco"},"Banco"),s.a.createElement(D.a,{options:this.state.bancosOptions,value:this.props.banco,onChange:function(a){e.props.changeSelect("banco",a)},type:"text",name:"banco",id:"banco",placeholder:"Selecione...",noResultsText:"Nenhum banco encontrado",required:!0,disabled:this.state.disabled}),s.a.createElement(j.i,null,"Conta utilizada para dep\xf3sito."))),s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"agencia"},"Ag\xeancia"),s.a.createElement(j.j,{type:"text",name:"agencia",id:"agencia",value:this.props.agencia,onChange:this.props.change,required:!0,disabled:this.state.disabled}))),s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"conta"},"Conta"),s.a.createElement(j.j,{type:"text",name:"conta",id:"conta",value:this.props.conta,onChange:this.props.change,required:!0,disabled:this.state.disabled}))))),this.props.id_pessoa?"":s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Dados para Acesso"),s.a.createElement(j.q,null,s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"email_usuario"},"E-mail"),s.a.createElement(j.j,{type:"email",name:"email",id:"email_usuario",value:this.props.email,onChange:this.props.change,required:!0}),s.a.createElement(j.i,null,"E-mail utilizado para login."))),s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"senha"},"Senha"),s.a.createElement(j.j,{type:"password",name:"senha",id:"senha",minLength:"6",value:this.props.senha,onChange:this.props.change,required:!0}))),s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"senha_confirma"},"Confirma Senha"),s.a.createElement(j.j,{type:"password",name:"senha_confirma",id:"senha_confirma",minLength:"6",value:this.props.senha_confirma,onChange:this.props.change,required:!0}))))),""===this.props.tipo?"":s.a.createElement(Ne.a,{endereco:this.props.endereco,change:this.props.change,disabled:this.state.disabled}),s.a.createElement(j.a,{type:"submit",outline:!0,color:"primary",disabled:this.state.disabled},"Salvar"))}}]),a}(s.a.Component),ia=Object(_.b)(function(e){return{email:e.parceiroForm.email,senha:e.parceiroForm.senha,senha_confirma:e.parceiroForm.senha_confirma,nome:e.parceiroForm.nome,banco:e.parceiroForm.banco,agencia:e.parceiroForm.agencia,conta:e.parceiroForm.conta,horario_funcionamento:e.parceiroForm.horario_funcionamento,ciclo_pagamento:e.parceiroForm.ciclo_pagamento,imagem:e.parceiroForm.imagem,tipo:e.parceiroForm.tipo,cpf:e.parceiroForm.cpf,pf:e.parceiroForm.pf,pj:e.parceiroForm.pj,endereco:e.parceiroForm.endereco,id_pessoa:e.parceiroForm.id_pessoa,disabledPF:e.parceiroForm.disabledPF,disabledPJ:e.parceiroForm.disabledPJ,disabledCPF:e.parceiroForm.disabledCPF,disabledCNPJ:e.parceiroForm.disabledCNPJ}},function(e){return Object(O.b)({alertErro:C.a,getParceiroPF:aa,clearParceiroPF:na,toggleCPF:ra,getParceiroPJ:ta,clearParceiroPJ:oa,toggleCNPJ:ca,change:Object(W.b)("PARCEIRO"),changeSelect:Object(W.d)("PARCEIRO"),update:Object(W.e)("PARCEIRO"),clear:W.a,clearState:$.b},e)})(la),sa=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={disabled:e.disabled,bancosOptions:[{label:"Banco Bradesco",value:"Banco Bradesco"},{label:"Caixa Econ\xf4mica Federal",value:"Caixa Econ\xf4mica Federal"},{label:"Banco Citibank",value:"Banco Citibank"},{label:"Banco do Brasil",value:"Banco do Brasil"},{label:"Banco do Nordeste",value:"Banco do Nordeste"},{label:"Banco Ita\xfa",value:"Banco Ita\xfa"},{label:"Banco Mercantil do Brasil",value:"Banco Mercantil do Brasil"},{label:"Banco Real",value:"Banco Real"},{label:"Banco Rendimento",value:"Banco Rendimento"},{label:"Banco Rural",value:"Banco Rural"},{label:"Banco Safra",value:"Banco Safra"},{label:"Banco Santander",value:"Banco Santander"},{label:"HSBC Bank Brasil \u2013 Banco M\xfaltiplo",value:"HSBC Bank Brasil \u2013 Banco M\xfaltiplo"}]},t.updateParceiro=t.updateParceiro.bind(Object(S.a)(Object(S.a)(t))),t.deleteParceiro=t.deleteParceiro.bind(Object(S.a)(Object(S.a)(t))),t.cbCPFCNPJ=t.cbCPFCNPJ.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.clear("PARCEIRO"),this.props.match&&this.props.match.params.id&&this.props.getParceiro(this.props.match.params.id,function(){e.props.change("isLoaded",!0),e.props.changeSelect("banco",{label:e.props.banco,value:e.props.banco})})}},{key:"cbCPFCNPJ",value:function(e){e.id_parceiro?(alert("PARCEIRO J\xc1 CADASTRADO"),window.location.href="/#/parceiro/v/".concat(e.id_parceiro)):e.id_pessoa_fisica?(this.props.change("disabledPF",!0),this.props.change("id_pessoa",e.id_pessoa),this.props.update(e.pf,"pf")):e.id_pessoa_juridica&&(this.props.change("disabledPJ",!0),this.props.change("id_pessoa",e.id_pessoa),this.props.update(e.pj,"pj"))}},{key:"updateParceiro",value:function(e){var a=this;if(e.preventDefault(),this.state.disabled)return!1;this.setState({disabled:!0});var t={nome:this.props.nome,status:this.props.status,banco:this.props.banco.value,agencia:this.props.agencia,conta:this.props.conta,horario_funcionamento:this.props.horario_funcionamento,ciclo_pagamento:this.props.ciclo_pagamento,data_fechamento_ciclo:this.props.data_fechamento_ciclo,tipo:this.props.tipo,endereco:Object(A.a)({},this.props.endereco),email:this.props.email,senha:this.props.senha,senha_confirma:this.props.senha_confirma,id_pessoa:this.props.id_pessoa,id_parceiro:this.props.match.params.id};"1"===t.tipo?t.pj=Object(A.a)({},this.props.pj):t.pf=Object(A.a)({},this.props.pf),b.a.put("parceiro",t).then(function(e){!1===e.status?(a.props.alertErro(e.data.message),a.setState({disabled:!1})):(a.props.clear("PARCEIRO"),a.props.clearState("parceirosById"),alert("Parceiro atualizado com sucesso!"),window.location.href="/#/parceiro/v/".concat(a.props.match.params.id))}).catch(function(e){a.props.alertErro("Ocorreu um erro ao processar a requisi\xe7\xe3o. Por favor, tente novamente!"),a.setState({disabled:!1})})}},{key:"deleteParceiro",value:function(e){var a=this;b.a.delete("parceiro/".concat(this.props.match.params.id)).then(function(e){!1===e.status?(a.props.alertErro(e.data.message),a.setState({disabled:!1})):(a.props.clear("PARCEIRO"),a.props.clearState("parceirosById"),alert("Parceiro removido com sucesso!"),window.location.href="#/parceiro")}).catch(function(e){a.props.alertErro("Ocorreu um erro ao processar a requisi\xe7\xe3o. Por favor, tente novamente!"),a.setState({disabled:!1})})}},{key:"render",value:function(){var e=this;return s.a.createElement("form",{onSubmit:this.updateParceiro},this.props.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement(j.q,null,s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"nome"},"Nome"),s.a.createElement(j.j,{type:"text",name:"nome",id:"nome",value:this.props.nome,onChange:this.state.disabled||this.props.change,disabled:this.state.disabled,required:!0}),s.a.createElement(j.i,null,"Nome que ser\xe1 mostrado para os usu\xe1rios durante a pesquisa."))),s.a.createElement(j.b,{sm:"3"},s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"status"},"Status"),s.a.createElement(j.j,{type:"select",name:"status",id:"status",value:this.props.status,onChange:this.state.disabled||this.props.change,disabled:this.state.disabled,required:!0},s.a.createElement("option",{value:"1"},"Ativo"),s.a.createElement("option",{value:"0"},"Inativo"))))),s.a.createElement(j.q,null,s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"horario_funcionamento"},"Hor\xe1rio de funcionamento"),s.a.createElement(j.j,{type:"text",name:"horario_funcionamento",id:"horario_funcionamento",value:this.props.horario_funcionamento,onChange:this.state.disabled||this.props.change,disabled:this.state.disabled,required:!0}),s.a.createElement(j.i,null,"Ex: 07:00 as 18:00"))),s.a.createElement(j.b,{sm:"3"},s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"ciclo_pagamento"},"Ciclo de Pagamento"),s.a.createElement(j.j,{type:"select",name:"ciclo_pagamento",id:"ciclo_pagamento",value:this.props.ciclo_pagamento,onChange:this.state.disabled||this.props.change,disabled:this.state.disabled,required:!0},s.a.createElement("option",{value:"30"},"30 dias"),s.a.createElement("option",{value:"15"},"15 dias"),s.a.createElement("option",{value:"7"},"7 dias")))),s.a.createElement(j.b,{sm:"3"},s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"data_fechamento_ciclo"},"Pr\xf3ximo Ciclo"),s.a.createElement(j.j,{type:"date",name:"data_fechamento_ciclo",id:"data_fechamento_ciclo",value:this.props.data_fechamento_ciclo,onChange:this.state.disabled||this.props.change,disabled:this.state.disabled,required:!0})))),"0"===this.props.tipo?s.a.createElement(Ce.a,{pf:this.props.pf,change:this.props.change,cbCPF:this.cbCPFCNPJ,disabled:this.state.disabled||this.props.disabledPF}):"1"===this.props.tipo?s.a.createElement(Ye.a,{pj:this.props.pj,change:this.props.change,cbCNPJ:this.cbCPFCNPJ,disabled:this.state.disabled||this.props.disabledPJ}):"",s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Dados Banc\xe1rios"),s.a.createElement(j.q,null,s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"banco"},"Banco"),s.a.createElement(D.a,{options:this.state.bancosOptions,value:this.props.banco,onChange:function(a){e.props.changeSelect("banco",a)},type:"text",name:"banco",id:"banco",placeholder:"Selecione...",noResultsText:"Nenhum banco encontrado",required:!0,disabled:this.state.disabled}),s.a.createElement(j.i,null,"Conta utilizada para dep\xf3sito."))),s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"agencia"},"Ag\xeancia"),s.a.createElement(j.j,{type:"text",name:"agencia",id:"agencia",value:this.props.agencia,onChange:this.props.change,required:!0,disabled:this.state.disabled}))),s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"conta"},"Conta"),s.a.createElement(j.j,{type:"text",name:"conta",id:"conta",value:this.props.conta,onChange:this.props.change,required:!0,disabled:this.state.disabled}))))),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Dados para Acesso"),s.a.createElement(j.q,null,s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"email_usuario"},"E-mail"),s.a.createElement(j.j,{type:"email",name:"email",id:"email_usuario",value:this.props.email,onChange:this.props.change,required:!0}),s.a.createElement(j.i,null,"E-mail utilizado para login."))),s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"senha"},"Senha"),s.a.createElement(j.j,{type:"password",name:"senha",id:"senha",minLength:"6",value:this.props.senha,onChange:this.props.change,required:!0}))),s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"senha_confirma"},"Confirma Senha"),s.a.createElement(j.j,{type:"password",name:"senha_confirma",id:"senha_confirma",minLength:"6",value:this.props.senha_confirma,onChange:this.props.change,required:!0}))))),s.a.createElement(Ne.a,{endereco:this.props.endereco,change:this.props.change,disabled:this.state.disabled}),s.a.createElement(j.q,null,s.a.createElement(j.b,{sm:{size:"auto"}},s.a.createElement(j.a,{type:"submit",outline:!0,color:"primary",disabled:this.state.disabled},"Salvar")),s.a.createElement(j.b,{sm:{size:"auto"}},s.a.createElement(te.a,{title:"Tem certeza que deseja deletar este parceiro?",onConfirm:this.deleteParceiro,okText:"Sim",cancelText:"N\xe3o"},s.a.createElement(j.a,{type:"button",outline:!0,color:"danger",disabled:this.state.disabled},"Excluir")))),s.a.createElement(F.a,{onClick:!1,icon:"arrow-left",title:"Voltar",to:"/parceiro/v/".concat(this.props.match.params.id)}))}}]),a}(s.a.Component),ma=Object(_.b)(function(e){return{email:e.parceiroForm.email,senha:e.parceiroForm.senha,senha_confirma:e.parceiroForm.senha_confirma,nome:e.parceiroForm.nome,status:e.parceiroForm.status,banco:e.parceiroForm.banco,agencia:e.parceiroForm.agencia,conta:e.parceiroForm.conta,horario_funcionamento:e.parceiroForm.horario_funcionamento,ciclo_pagamento:e.parceiroForm.ciclo_pagamento,data_fechamento_ciclo:e.parceiroForm.data_fechamento_ciclo,imagem:e.parceiroForm.imagem,tipo:e.parceiroForm.tipo,cpf:e.parceiroForm.cpf,pf:e.parceiroForm.pf,pj:e.parceiroForm.pj,endereco:e.parceiroForm.endereco,id_pessoa:e.parceiroForm.id_pessoa,disabledPF:e.parceiroForm.disabledPF,disabledPJ:e.parceiroForm.disabledPJ,disabledCPF:e.parceiroForm.disabledCPF,disabledCNPJ:e.parceiroForm.disabledCNPJ,isLoaded:e.parceiroForm.isLoaded}},function(e){return Object(O.b)({alertErro:C.a,getParceiro:ea,getParceiroPF:aa,clearParceiroPF:na,toggleCPF:ra,getParceiroPJ:ta,clearParceiroPJ:oa,toggleCNPJ:ca,change:Object(W.b)("PARCEIRO"),changeSelect:Object(W.d)("PARCEIRO"),update:Object(W.e)("PARCEIRO"),clear:W.a,clearState:$.b},e)})(sa),da=function(e){function a(){return Object(n.a)(this,a),Object(r.a)(this,Object(c.a)(a).apply(this,arguments))}return Object(l.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h3",null,"Pessoa Jur\xeddica"),s.a.createElement("dl",{className:"row"},s.a.createElement("dt",{className:"col-sm-3"},"Raz\xe3o Social"),s.a.createElement("dd",{className:"col-sm-9"},this.props.pj.razao_social),s.a.createElement("dt",{className:"col-sm-3"},"Nome Fantasia"),s.a.createElement("dd",{className:"col-sm-9"},this.props.pj.nome_fantasia),s.a.createElement("dt",{className:"col-sm-3"},"CNPJ"),s.a.createElement("dd",{className:"col-sm-9"},this.props.pj.cnpj&&this.props.pj.cnpj.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5")),s.a.createElement("dt",{className:"col-sm-3"},"E-mail"),s.a.createElement("dd",{className:"col-sm-9"},this.props.pj.email),s.a.createElement("dt",{className:"col-sm-3"},"Telefone"),s.a.createElement("dd",{className:"col-sm-9"},this.props.pj.telefone),s.a.createElement("dt",{className:"col-sm-3"},"Telefone 2"),s.a.createElement("dd",{className:"col-sm-9"},this.props.pj.telefone2),s.a.createElement("dt",{className:"col-sm-3"},"Nome do respons\xe1vel"),s.a.createElement("dd",{className:"col-sm-9"},this.props.pj.nome_responsavel),s.a.createElement("dt",{className:"col-sm-3"},"CPF do respons\xe1vel"),s.a.createElement("dd",{className:"col-sm-9"},this.props.pj.cpf_responsavel),s.a.createElement("dt",{className:"col-sm-3"},"E-mail do respons\xe1vel"),s.a.createElement("dd",{className:"col-sm-9"},this.props.pj.email_responsavel),s.a.createElement("dt",{className:"col-sm-3"},"Telefone do respons\xe1vel"),s.a.createElement("dd",{className:"col-sm-9"},this.props.pj.telefone_responsavel)))}}]),a}(s.a.Component),pa=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={nome:"",status:"",imagem:"",tipo:"",horario_funcionamento:"",ciclo_pagamento:"-",data_fechamento_ciclo:"",pj:{},pf:{},endereco:{},email:"",isLoaded:!1},t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.match&&this.props.match.params.id&&b.a.get("parceiro/".concat(this.props.match.params.id)).then(function(a){e.setState(Object(A.a)({isLoaded:!0},a.data))})}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement("dl",{className:"row"},s.a.createElement("dt",{className:"col-sm-3"},"Nome"),s.a.createElement("dd",{className:"col-sm-9"},this.state.nome),s.a.createElement("dt",{className:"col-sm-3"},"Status"),s.a.createElement("dd",{className:"col-sm-9"},["inativo","ativo"][this.state.status]),s.a.createElement("dt",{className:"col-sm-3"},"Funcionamento"),s.a.createElement("dd",{className:"col-sm-9"},this.state.horario_funcionamento),s.a.createElement("dt",{className:"col-sm-3"},"Ciclo de pagamento"),s.a.createElement("dd",{className:"col-sm-9"},this.state.ciclo_pagamento," dias"),s.a.createElement("dt",{className:"col-sm-3"},"Pr\xf3ximo ciclo"),s.a.createElement("dd",{className:"col-sm-9"},this.state.data_fechamento_ciclo.replace(/(\d{4})-(\d{2})-(\d{2})/,"$3/$2/$1"))),"0"===this.state.tipo?s.a.createElement(Re.a,{pf:this.state.pf}):"1"===this.state.tipo?s.a.createElement(da,{pj:this.state.pj}):"",s.a.createElement(xe,{endereco:this.state.endereco}),s.a.createElement("div",null,s.a.createElement("h3",null,"Dados de acesso"),s.a.createElement("dl",{className:"row"},s.a.createElement("dt",{className:"col-sm-3"},"Email"),s.a.createElement("dd",{className:"col-sm-9"},this.state.email))),s.a.createElement(F.a,{onClick:!1,icon:"pencil-alt",title:"Editar",to:"/parceiro/e/".concat(this.props.match.params.id)}))}}]),a}(s.a.Component),ua=t(439),ha=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).addProcedimento=t.addProcedimento.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.clear("PARCEIRO_PROCEDIMENTO"),this.props.change({target:document.querySelector("#id_parceiro")},this.props.parceiro),0===this.props.procedimentosById.length&&this.props.getProcedimentos()}},{key:"addProcedimento",value:function(e){var a=this;e.preventDefault();var t={observacao:this.props.observacao,comissao:this.props.comissao,valor_parceiro:this.props.valor_parceiro,horario_atendimento:this.props.horario_atendimento,id_parceiro:this.props.id_parceiro,id_procedimento:this.props.id_procedimento.value};b.a.post("parceiroprocedimento",t).then(function(e){!1===e.data.status?alert(e.message):(a.props.clear("PARCEIRO_PROCEDIMENTO"),alert("PROCEDIMENTO CADASTRADO COM SUCESSO!"))})}},{key:"render",value:function(){var e=this;return s.a.createElement("form",null,s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Dados Procedimento"),s.a.createElement("input",{type:"hidden",name:"id_procedimento",id:"id_procedimento",value:this.props.id_procedimento,required:!0}),s.a.createElement("input",{type:"hidden",name:"id_parceiro",id:"id_parceiro",value:this.props.id_parceiro,required:!0}),s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"nome"},"Nome"),s.a.createElement(D.a,{options:this.props.procedimentosOptions,id:"nome",required:!0,value:this.props.id_procedimento,onChange:function(a){return e.props.changeSelect("id_procedimento",a)},placeholder:"Selecione...",noResultsText:"Nenhum resultado encontrado"})),s.a.createElement(j.q,null,s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"valor_parceiro"},"Valor Parceiro"),s.a.createElement(j.k,null,s.a.createElement(j.l,{addonType:"prepend"},"R$"),s.a.createElement(j.j,{type:"text",name:"valor_parceiro",id:"valor_parceiro",required:!0,value:this.props.valor_parceiro,onChange:this.props.change})),s.a.createElement(j.i,null,"Valor em reais e com centavos separado por ponto."))),s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"comissao"},"Valor da Comiss\xe3o"),s.a.createElement(j.k,null,s.a.createElement(j.l,{addonType:"prepend"},"R$"),s.a.createElement(j.j,{type:"text",name:"comissao",id:"comissao",required:!0,value:this.props.comissao,onChange:this.props.change})),s.a.createElement(j.i,null,"Valor em reais e com centavos separado por ponto.")))),s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"horario_atendimento"},"Hor\xe1rio de Atendimento"),s.a.createElement(j.j,{type:"text",name:"horario_atendimento",id:"horario_atendimento",required:!0,value:this.props.horario_atendimento,onChange:this.props.change})),s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"observacao"},"Observa\xe7\xe3o"),s.a.createElement(j.j,{type:"text",name:"observacao",id:"observacao",value:this.props.observacao,onChange:this.props.change}))),s.a.createElement("button",{type:"submit",className:"btn btn-outline-primary",onClick:this.addProcedimento},"Adicionar"))}}]),a}(s.a.Component),Ea=Object(_.b)(function(e){return{procedimentosById:e.app.procedimentosById,procedimentosOptions:e.app.procedimentosOptions,codigo:e.parceiroProcedimentoForm.codigo,nome:e.parceiroProcedimentoForm.nome,observacao:e.parceiroProcedimentoForm.observacao,comissao:e.parceiroProcedimentoForm.comissao,valor_parceiro:e.parceiroProcedimentoForm.valor_parceiro,horario_atendimento:e.parceiroProcedimentoForm.horario_atendimento,id_procedimento:e.parceiroProcedimentoForm.id_procedimento,id_parceiro:e.parceiroProcedimentoForm.id_parceiro}},function(e){return Object(O.b)({getProcedimentos:K.e,change:Object(W.b)("PARCEIRO_PROCEDIMENTO"),changeSelect:Object(W.d)("PARCEIRO_PROCEDIMENTO"),clear:W.a},e)})(ha),ba=t(146),va=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={modal:t.props.modal||!1},t.toggle=t.toggle.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){return s.a.createElement("div",null,this.props.hideButton?"":s.a.createElement(F.a,{icon:this.props.icon,onClick:this.toggle}),s.a.createElement(j.n,{size:this.props.size||"lg",isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},s.a.createElement(j.p,{toggle:this.toggle},this.props.error?s.a.createElement(E.a,{icon:"exclamation-circle"}):""," ",this.props.title),s.a.createElement(j.o,null,this.props.children)))}}]),a}(s.a.Component),fa=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={procedimentos:[],columns:[Object(A.a)({title:"C\xf3digo",dataIndex:"codigo_tuss",key:"codigo_tuss"},t.getColumnSearchProps("codigo_tuss")),Object(A.a)({title:"Nome",dataIndex:"nome",key:"nome"},t.getColumnSearchProps("nome"),{render:function(e,a){return s.a.createElement(k.a,{to:"/parceiro/v/".concat(a.id_parceiro,"/procedimentos/").concat(a.id_parceiro_procedimento)},e)}}),{title:"Valor Parceiro",dataIndex:"valor_parceiro",key:"valor_parceiro",render:function(e){return"R$ ".concat(e.replace(".",","))}},{title:"Status",dataIndex:"status",key:"status",render:function(e){return["inativo","ativo"][e]}}],searchOptions:[{name:"Nome",value:"nome"},{name:"C\xf3digo",value:"codigo",mask:"99999999"}],status:!1,message:"",isLoaded:!1},t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.match&&this.props.match.params.id&&b.a.get("parceiroprocedimento/".concat(this.props.match.params.id)).then(function(a){e.setState({isLoaded:!0}),!1===a.data.status?e.setState(a.data):e.setState({procedimentos:a.data,status:!0})})}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement(va,{title:"Cadastro de Procedimento"},s.a.createElement(Ea,{parceiro:this.props.match.params.id})),s.a.createElement("div",{className:"table-responsive"},s.a.createElement(ua.a,{rowKey:"id_parceiro_procedimento",columns:this.state.columns,dataSource:this.state.procedimentos})))}}]),a}(ba.a),ga=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={agendamentos:[],searchOptions:[{name:"N\xfamero",value:"numero"},{name:"Cliente CPF",value:"cpf",mask:"999.999.999-99"}],searchFilters:[{name:"Data de cadastro",value:"data_criacao",props:{type:"date"}},{name:"Status",value:"status",type:"select",options:[{value:"pendente",label:"Pendente"},{value:"realizado",label:"Realizado"},{value:"cancelado",label:"Cancelado"},{value:"cancelado",label:"Cancelado"}]}],status:!1,message:"",isLoaded:!1},t.filter=t.filter.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.match&&this.props.match.params.id&&b.a.get("parceiro/".concat(this.props.match.params.id,"/agendamento")).then(function(a){e.setState({isLoaded:!0}),!1===a.data.status?e.setState(a.data):e.setState({agendamentos:a.data,status:!0})})}},{key:"filter",value:function(e,a,t){var n=this,o=e?"parceiro/".concat(this.props.match.params.id,"/agendamento/").concat(e,"/").concat(a,"?").concat(t):"parceiro/".concat(this.props.match.params.id,"/agendamento?").concat(t);this.setState({isLoaded:!1,agendamentos:[]}),b.a.get(o).then(function(e){n.setState({isLoaded:!0}),!1!==e.data.status&&n.setState({agendamentos:e.data})})}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement(B,{options:this.state.searchOptions,filters:this.state.searchFilters,onSearch:this.filter}),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table ".concat(this.state.isLoaded?"":"blur")},s.a.createElement("thead",{className:""},s.a.createElement("tr",null,s.a.createElement("th",null,"N\xfamero"),s.a.createElement("th",null,"Parceiro"),s.a.createElement("th",null,"Cliente CPF"),s.a.createElement("th",null,"Total"),s.a.createElement("th",null,"Status"))),s.a.createElement("tbody",null,this.state.agendamentos.map(function(e){return s.a.createElement("tr",{key:"agendamento".concat(e.id_agendamento),className:"status-".concat(e.status)},s.a.createElement("td",null,s.a.createElement(k.a,{to:"/agendamento/v/".concat(e.id_agendamento)},e.codigo)),s.a.createElement("td",null,s.a.createElement(k.a,{to:"/parceiro/v/".concat(e.parceiro.id_parceiro)},e.parceiro.nome)),s.a.createElement("td",null,s.a.createElement(k.a,{to:"/cliente/v/".concat(e.cliente.id_cliente)},e.cliente.cpf.replace(/^(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"))),s.a.createElement("td",null,"R$ ".concat(e.total)),s.a.createElement("td",null,e.status))})))))}}]),a}(s.a.Component),_a=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={nome:"",valor_total:"",valor_parceiro:"",comissao:"",horario_atendimento:"",observacao:"",isLoaded:!1},t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.match&&this.props.match.params.id&&b.a.get("parceiro/".concat(this.props.match.params.id_parceiro,"/procedimento/").concat(this.props.match.params.id)).then(function(a){e.setState(Object(A.a)({isLoaded:!0},a.data[0]))}).catch(function(a){e.setState({isLoaded:!0}),alert("A p\xe1gina n\xe3o pode ser carregada...")})}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement("dl",{className:"row"},s.a.createElement("dt",{className:"col-sm-3"},"Nome"),s.a.createElement("dd",{className:"col-sm-9"},this.state.nome),s.a.createElement("dt",{className:"col-sm-3"},"Hor\xe1rio de atendimento"),s.a.createElement("dd",{className:"col-sm-9"},this.state.horario_atendimento),s.a.createElement("dt",{className:"col-sm-3"},"Observa\xe7\xe3o"),s.a.createElement("dd",{className:"col-sm-9"},this.state.observacao),s.a.createElement("dt",{className:"col-sm-3"},"Valor Total ",s.a.createElement("small",null,"(Pago pelo cliente)")),s.a.createElement("dd",{className:"col-sm-9"},"R$ ",this.state.valor_total),s.a.createElement("dt",{className:"col-sm-3"},"Valor Parceiro"),s.a.createElement("dd",{className:"col-sm-9"},"R$ ",this.state.valor_parceiro),s.a.createElement("dt",{className:"col-sm-3"},"Valor da Comiss\xe3o"),s.a.createElement("dd",{className:"col-sm-9"},"R$ ",this.state.comissao),s.a.createElement("dt",{className:"col-sm-3"},"Situa\xe7\xe3o"),s.a.createElement("dd",{className:"col-sm-9"},["inativo","ativo"][this.state.status])),s.a.createElement(F.a,{onClick:!1,icon:"pencil-alt",title:"Editar",to:"/parceiro/e/".concat(this.props.match.params.id_parceiro,"/procedimentos/").concat(this.props.match.params.id)}))}}]),a}(s.a.Component),Oa=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={isLoaded:!1},t.updateParceiroProcedimento=t.updateParceiroProcedimento.bind(Object(S.a)(Object(S.a)(t))),t.deleteParceiroProcedimento=t.deleteParceiroProcedimento.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.clear("PARCEIRO_PROCEDIMENTO"),this.props.match&&this.props.match.params.id&&this.props.getParceiroProcedimento(this.props.match.params.id_parceiro,this.props.match.params.id,function(){e.setState({isLoaded:!0})})}},{key:"updateParceiroProcedimento",value:function(e){var a=this;e.preventDefault(),this.setState({isLoaded:!1});var t={observacao:this.props.observacao,comissao:this.props.comissao,valor_parceiro:this.props.valor_parceiro,horario_atendimento:this.props.horario_atendimento};this.props.nome_parceiro_procedimento!==this.props.nome&&(t.nome=this.props.nome_parceiro_procedimento),b.a.put("parceiroprocedimento/".concat(this.props.id_parceiro_procedimento),t).then(function(e){a.setState({isLoaded:!0}),!1===e.data.status?alert(e.message):(a.props.clear("PARCEIRO_PROCEDIMENTO"),alert("Procedimento atualizado com sucesso!"),window.location.href="#/parceiro/v/".concat(a.props.match.params.id_parceiro,"/procedimentos"))})}},{key:"deleteParceiroProcedimento",value:function(e){var a=this;b.a.delete("parceiroprocedimento/".concat(this.props.id_parceiro_procedimento)).then(function(e){a.setState({isLoaded:!0}),!1===e.data.status?alert(e.message):(a.props.clear("PARCEIRO_PROCEDIMENTO"),alert("Procedimento removido com sucesso!"),window.location.href="#/parceiro/v/".concat(a.props.match.params.id_parceiro,"/procedimentos"))}).catch(function(e){alert("Ocorreu um erro ao remover o procedimento.")})}},{key:"render",value:function(){return s.a.createElement("form",{onSubmit:this.updateParceiroProcedimento},this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Dados Procedimento"),s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"nome_parceiro_procedimento"},"Nome"),s.a.createElement(j.k,null,s.a.createElement(j.l,{addonType:"prepend"},this.props.codigo_tuss&&"".concat(this.props.codigo_tuss," -")),s.a.createElement(j.j,{type:"text",name:"nome_parceiro_procedimento",id:"nome_parceiro_procedimento",required:!0,value:this.props.nome_parceiro_procedimento||this.props.nome,onChange:this.props.change}))),s.a.createElement(j.q,null,s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"valor_parceiro"},"Valor Parceiro"),s.a.createElement(j.k,null,s.a.createElement(j.l,{addonType:"prepend"},"R$"),s.a.createElement(j.j,{type:"text",name:"valor_parceiro",id:"valor_parceiro",required:!0,value:this.props.valor_parceiro,onChange:this.props.change})),s.a.createElement(j.i,null,"Valor em reais e com centavos separado por ponto."))),s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"comissao"},"Valor da Comiss\xe3o"),s.a.createElement(j.k,null,s.a.createElement(j.l,{addonType:"prepend"},"R$"),s.a.createElement(j.j,{type:"text",name:"comissao",id:"comissao",required:!0,value:this.props.comissao,onChange:this.props.change})),s.a.createElement(j.i,null,"Valor em reais e com centavos separado por ponto.")))),s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"horario_atendimento"},"Hor\xe1rio de Atendimento"),s.a.createElement(j.j,{type:"text",name:"horario_atendimento",id:"horario_atendimento",required:!0,value:this.props.horario_atendimento,onChange:this.props.change})),s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"observacao"},"Observa\xe7\xe3o"),s.a.createElement(j.j,{type:"text",name:"observacao",id:"observacao",value:this.props.observacao,onChange:this.props.change}))),s.a.createElement(j.q,null,s.a.createElement(j.b,{sm:{size:"auto"}},s.a.createElement(j.a,{type:"submit",outline:!0,color:"primary"},"Salvar")),s.a.createElement(j.b,{sm:{size:"auto"}},s.a.createElement(te.a,{title:"Tem certeza que deseja deletar este procedimento?",onConfirm:this.deleteParceiroProcedimento,okText:"Sim",cancelText:"N\xe3o"},s.a.createElement(j.a,{type:"button",outline:!0,color:"danger"},"Excluir")))))}}]),a}(s.a.Component),ja=Object(_.b)(function(e){return{procedimentosById:e.app.procedimentosById,procedimentosOptions:e.app.procedimentosOptions,codigo_tuss:e.parceiroProcedimentoForm.codigo_tuss,nome:e.parceiroProcedimentoForm.nome,nome_parceiro_procedimento:e.parceiroProcedimentoForm.nome_parceiro_procedimento,observacao:e.parceiroProcedimentoForm.observacao,comissao:e.parceiroProcedimentoForm.comissao,valor_parceiro:e.parceiroProcedimentoForm.valor_parceiro,horario_atendimento:e.parceiroProcedimentoForm.horario_atendimento,id_parceiro_procedimento:e.parceiroProcedimentoForm.id_parceiro_procedimento,id_parceiro:e.parceiroProcedimentoForm.id_parceiro}},function(e){return Object(O.b)({getParceiroProcedimento:Ze,change:Object(W.b)("PARCEIRO_PROCEDIMENTO"),changeSelect:Object(W.d)("PARCEIRO_PROCEDIMENTO"),clear:W.a},e)})(Oa),Ca=function(e){return s.a.createElement(P.b,{title:"Parceiros",icon:"user-md"},s.a.createElement(Xe,null))},Na=function(e){return s.a.createElement(P.b,{title:"Parceiros",icon:"user-md"},s.a.createElement(ia,null))},ya=function(e){e.props;var a=e.match;return s.a.createElement(P.b,{title:"Parceiros",icon:"user-md"},s.a.createElement(ma,{match:a}))},Pa=function(e){e.props;var a=e.match;return s.a.createElement(P.b,{title:"Parceiros",icon:"user-md"},s.a.createElement(_a,{match:a}))},Sa=function(e){e.props;var a=e.match;return s.a.createElement(P.b,{title:"Parceiros",icon:"user-md"},s.a.createElement(ja,{match:a}))},ka=function(e){function a(e){var t,o=e.props,l=e.match;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,o))).state={match:l},t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e){var a=Object(A.a)({},this.state.match);e.match.params.action!==this.props.match.params.action&&(a.params.action=e.match.params.action,this.setState({match:a}))}},{key:"render",value:function(){return s.a.createElement(P.b,{title:"Parceiros",icon:"user-md"},s.a.createElement("ul",{className:"nav nav-tabs"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(u.a,{className:"nav-link",exact:!0,activeClassName:"active",to:"/parceiro/v/".concat(this.state.match.params.id)},"Detalhes")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(u.a,{className:"nav-link",exact:!0,activeClassName:"active",to:"/parceiro/v/".concat(this.state.match.params.id,"/procedimentos")},"Procedimentos")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(u.a,{className:"nav-link",exact:!0,activeClassName:"active",to:"/parceiro/v/".concat(this.state.match.params.id,"/agendamentos")},"Agendamentos"))),s.a.createElement("br",null),"procedimentos"===this.state.match.params.action?s.a.createElement(fa,{match:this.state.match}):"agendamentos"===this.state.match.params.action?s.a.createElement(ga,{match:this.state.match}):s.a.createElement(pa,{match:this.state.match}))}}]),a}(s.a.Component),Fa=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={columns:[Object(A.a)({title:"C\xf3digo TUSS",dataIndex:"codigo_tuss",key:"codigo_tuss"},t.getColumnSearchProps("codigo_tuss")),Object(A.a)({title:"Nome",dataIndex:"nome",key:"nome"},t.getColumnSearchProps("nome"),{render:function(e,a){return s.a.createElement(k.a,{to:"/procedimento/e/".concat(a.id_procedimento)},e)}}),{title:"Tipo",dataIndex:"tipo",key:"tipo",render:function(e){return e||""}},Object(A.a)({title:"Especialidade",dataIndex:"especialidade",key:"especialidade"},t.getColumnSearchProps("especialidade"),{render:function(e){return e||""}})],isLoaded:!0},t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.procedimentos.length||(this.setState({isLoaded:!1}),b.a.get("procedimento").then(function(a){e.setState({isLoaded:!0}),!1!==a.data.status&&e.props.changeState({procedimentos:a.data})}).catch(function(a){alert("Ocorreu um erro ao carregar os dados"),e.setState({isLoaded:!0})}))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement("div",{className:"table-responsive"},s.a.createElement(ua.a,{rowKey:"id_procedimento",columns:this.state.columns,dataSource:this.props.procedimentos})),s.a.createElement(F.a,{onClick:!1,to:"/procedimento/adicionar"}))}}]),a}(ba.a),Ra=Object(_.b)(function(e){return{procedimentos:e.pages.procedimentos}},function(e){return Object(O.b)({changeState:$.a,clearState:$.b},e)})(Fa),xa=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={codigos:[],tipos:[{label:"Consulta",value:"consulta"},{label:"Exame",value:"exame"},{label:"Procedimento",value:"procedimento"}],especialidades:[],disabled:!1,isLoaded:!1},t.addProcedimento=t.addProcedimento.bind(Object(S.a)(Object(S.a)(t))),t.handleCodigoChange=t.handleCodigoChange.bind(Object(S.a)(Object(S.a)(t))),t.updateNome=t.updateNome.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("procedimento/especialidade").then(function(a){e.setState({especialidades:a.data,isLoaded:!0})})}},{key:"handleCodigoChange",value:function(e){var a=this;e.length>1?b.a.get("procedimento/tuss/".concat(e)).then(function(e){a.setState({codigos:e.data})}):this.setState({codigos:[]})}},{key:"addProcedimento",value:function(e){var a=this;if(e.preventDefault(),this.state.disabled)return!1;this.setState({disabled:!0});var t={nome:this.props.nome,tipo:this.props.tipo.value,codigo_tuss:this.props.codigo_tuss.value,codigo_especialidade:this.props.codigo_especialidade?this.props.codigo_especialidade.value:null};b.a.post("procedimento",t).then(function(e){!1===e.status?alert(e.data.message):(a.props.clear("PROCEDIMENTO"),a.props.clearState("parceirosById"),alert("Procedimento salvo com sucesso!"),window.location.href="/#/procedimento"),a.setState({disabled:!1})}).catch(function(e){alert("Ocorreu um erro ao cadastrar o procedimento. Por favor, tente novamente!"),a.setState({disabled:!1})})}},{key:"updateNome",value:function(e){e.search(" - ")>-1&&this.props.change("nome",e.split(/ - (.+)/)[1])}},{key:"render",value:function(){var e=this;return s.a.createElement("form",{onSubmit:this.addProcedimento},this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement(j.q,null,s.a.createElement(j.b,{sm:"4"},s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"tipo"},"Tipo"),s.a.createElement(D.a,{options:this.state.tipos,value:this.props.tipo,onChange:function(a){return e.props.changeSelect("tipo",a)},placeholder:"Selecione...",noResultsText:"Nenhum resultado encontrado",required:!0,disabled:this.state.disabled}))),s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"codigo_especialidade"},"Especialidade"),s.a.createElement(D.a,{options:this.state.especialidades,value:this.props.codigo_especialidade,onChange:function(a){return e.props.changeSelect("codigo_especialidade",a)},placeholder:"Selecione...",noResultsText:"Nenhum resultado encontrado",disabled:this.state.disabled})))),s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"codigo_tuss"},"C\xf3digo TUSS"),s.a.createElement(D.a,{options:this.state.codigos,value:this.props.codigo_tuss,onChange:function(a){e.props.changeSelect("codigo_tuss",a),e.updateNome(a.label)},onInputChange:this.handleCodigoChange,type:"text",name:"procedimento",id:"procedimento",placeholder:"Selecione...",noResultsText:"Nenhum resultado encontrado",required:!0,disabled:this.state.disabled})),s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"nome"},"Nome"),s.a.createElement(j.j,{type:"text",name:"nome",id:"nome",value:this.props.nome,onChange:this.props.change,required:!0,disabled:this.state.disabled}),s.a.createElement(j.i,null,"Nome como aparecer\xe1 no sistema")),s.a.createElement(j.a,{type:"submit",outline:!0,color:"primary",disabled:this.state.disabled},"Salvar"))}}]),a}(s.a.Component),Aa=Object(_.b)(function(e){return{tipo:e.procedimentoForm.tipo,codigo_tuss:e.procedimentoForm.codigo_tuss,codigo_especialidade:e.procedimentoForm.codigo_especialidade,nome:e.procedimentoForm.nome}},function(e){return Object(O.b)({change:Object(W.b)("PROCEDIMENTO"),changeSelect:Object(W.d)("PROCEDIMENTO"),clear:W.a,clearState:$.b},e)})(xa),Ta=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=b.a.get("procedimento/?where=id_procedimento%3D".concat(e));return function(e){t.then(function(t){e({type:"PROCEDIMENTO_GET",payload:t.data[0]}),a()})}},La=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={codigos:[],tipos:[{label:"Consulta",value:"consulta"},{label:"Exame",value:"exame"},{label:"Procedimento",value:"procedimento"}],especialidades:[],disabled:!1,isLoaded:!1},t.updateProcedimento=t.updateProcedimento.bind(Object(S.a)(Object(S.a)(t))),t.handleCodigoChange=t.handleCodigoChange.bind(Object(S.a)(Object(S.a)(t))),t.updateNome=t.updateNome.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.clear("PROCEDIMENTO"),b.a.get("procedimento/especialidade").then(function(a){e.setState({especialidades:a.data}),e.props.match&&e.props.match.params.id&&e.props.getProcedimento(e.props.match.params.id,function(){e.props.changeSelect("tipo",e.state.tipos.find(function(a){return a.value===e.props.tipo})),e.props.changeSelect("codigo_especialidade",e.state.especialidades.find(function(a){return a.value===e.props.codigo_especialidade})),b.a.get("procedimento/tuss/".concat(e.props.codigo_tuss)).then(function(a){e.setState({codigos:a.data,isLoaded:!0}),e.props.changeSelect("codigo_tuss",a.data.find(function(a){return a.value===e.props.codigo_tuss}))})})})}},{key:"handleCodigoChange",value:function(e){var a=this;e.length>1?b.a.get("procedimento/tuss/".concat(e)).then(function(e){a.setState({codigos:e.data})}):this.setState({codigos:[]})}},{key:"updateProcedimento",value:function(e){var a=this;if(e.preventDefault(),this.state.disabled)return!1;this.setState({disabled:!0});var t={nome:this.props.nome,tipo:this.props.tipo.value,codigo_tuss:this.props.codigo_tuss.value,codigo_especialidade:this.props.codigo_especialidade?this.props.codigo_especialidade.value:null};b.a.put("procedimento/".concat(this.props.match.params.id),t).then(function(e){!1===e.status?alert(e.data.message):(a.props.clear("PROCEDIMENTO"),a.props.clearState("parceirosById"),alert("Procedimento atualizado com sucesso!"),window.location.href="/#/procedimento"),a.setState({disabled:!1})}).catch(function(e){alert("Ocorreu um erro ao atualizar o procedimento. Por favor, tente novamente!"),a.setState({disabled:!1})})}},{key:"updateNome",value:function(e){e.search(" - ")>-1&&this.props.change("nome",e.split(/ - (.+)/)[1])}},{key:"render",value:function(){var e=this;return s.a.createElement("form",{onSubmit:this.updateProcedimento},this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement(j.q,null,s.a.createElement(j.b,{sm:"4"},s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"tipo"},"Tipo"),s.a.createElement(D.a,{options:this.state.tipos,value:this.props.tipo,onChange:function(a){return e.props.changeSelect("tipo",a)},placeholder:"Selecione...",noResultsText:"Nenhum resultado encontrado",required:!0,disabled:this.state.disabled}))),s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"codigo_especialidade"},"Especialidade"),s.a.createElement(D.a,{options:this.state.especialidades,value:this.props.codigo_especialidade,onChange:function(a){return e.props.changeSelect("codigo_especialidade",a)},placeholder:"Selecione...",noResultsText:"Nenhum resultado encontrado",disabled:this.state.disabled})))),s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"codigo_tuss"},"C\xf3digo TUSS"),s.a.createElement(D.a,{options:this.state.codigos,value:this.props.codigo_tuss,onChange:function(a){e.props.changeSelect("codigo_tuss",a),e.updateNome(a.label)},onInputChange:this.handleCodigoChange,type:"text",name:"procedimento",id:"procedimento",placeholder:"Selecione...",noResultsText:"Nenhum resultado encontrado",required:!0,disabled:this.state.disabled})),s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"nome"},"Nome"),s.a.createElement(j.j,{type:"text",name:"nome",id:"nome",value:this.props.nome,onChange:this.props.change,required:!0,disabled:this.state.disabled}),s.a.createElement(j.i,null,"Nome como aparecer\xe1 no sistema")),s.a.createElement(j.a,{type:"submit",outline:!0,color:"primary",disabled:this.state.disabled},"Salvar"))}}]),a}(s.a.Component),Da=Object(_.b)(function(e){return{tipo:e.procedimentoForm.tipo,codigo_tuss:e.procedimentoForm.codigo_tuss,codigo_especialidade:e.procedimentoForm.codigo_especialidade,nome:e.procedimentoForm.nome}},function(e){return Object(O.b)({change:Object(W.b)("PROCEDIMENTO"),changeSelect:Object(W.d)("PROCEDIMENTO"),clear:W.a,getProcedimento:Ta,clearState:$.b},e)})(La),Ba=function(e){return s.a.createElement(P.b,{title:"Procedimentos",icon:"notes-medical"},s.a.createElement(Ra,null))},Ia=function(e){return s.a.createElement(P.b,{title:"Procedimentos",icon:"notes-medical"},s.a.createElement(Aa,null))},$a=function(e){e.props;var a=e.match;return s.a.createElement(P.b,{title:"Procedimentos",icon:"notes-medical"},s.a.createElement(Da,{match:a}))},wa=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={columns:[Object(A.a)({title:"Nome",dataIndex:"nome",key:"nome"},t.getColumnSearchProps("nome"),{render:function(e,a){return s.a.createElement(k.a,{to:"/representante/v/".concat(a.id_representante)},e)}}),Object(A.a)({title:"CPF",dataIndex:"cpf",key:"cpf"},t.getColumnSearchProps("cpf")),{title:"Telefones",dataIndex:"telefones",key:"telefones"}],isLoaded:!0},t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.representantes.length||(this.setState({isLoaded:!1}),b.a.get("representante").then(function(a){e.setState({isLoaded:!0}),!1!==a.data.status&&e.props.changeState({representantes:a.data})}))}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.isLoaded||s.a.createElement(I.a,null),s.a.createElement("div",{className:"table-responsive"},s.a.createElement(ua.a,{rowKey:"id_representante",columns:this.state.columns,dataSource:this.props.representantes})),s.a.createElement(F.a,{onClick:!1,to:"/representante/adicionar"}))}}]),a}(ba.a),qa=Object(_.b)(function(e){return{representantes:e.pages.representantes}},function(e){return Object(O.b)({changeState:$.a,clearState:$.b},e)})(wa),Ma=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={nome:"",cpf:"",telefones:"",banco:"",agencia:"",conta:"",bancosOptions:[{label:"Banco Bradesco",value:"Banco Bradesco"},{label:"Caixa Econ\xf4mica Federal",value:"Caixa Econ\xf4mica Federal"},{label:"Banco Citibank",value:"Banco Citibank"},{label:"Banco do Brasil",value:"Banco do Brasil"},{label:"Banco do Nordeste",value:"Banco do Nordeste"},{label:"Banco Ita\xfa",value:"Banco Ita\xfa"},{label:"Banco Mercantil do Brasil",value:"Banco Mercantil do Brasil"},{label:"Banco Pan",value:"Banco Pan"},{label:"Banco Real",value:"Banco Real"},{label:"Banco Rendimento",value:"Banco Rendimento"},{label:"Banco Rural",value:"Banco Rural"},{label:"Banco Safra",value:"Banco Safra"},{label:"Banco Santander",value:"Banco Santander"},{label:"Nuconta",value:"Nuconta"},{label:"HSBC Bank Brasil \u2013 Banco M\xfaltiplo",value:"HSBC Bank Brasil \u2013 Banco M\xfaltiplo"}],disabled:e.disabled},t.handleChange=t.handleChange.bind(Object(S.a)(Object(S.a)(t))),t.handleSelectChange=t.handleSelectChange.bind(Object(S.a)(Object(S.a)(t))),t.addRepresentante=t.addRepresentante.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"handleChange",value:function(e){if(this.state.disabled)return!1;this.setState(Object(x.a)({},e.target.name,e.target.value))}},{key:"handleSelectChange",value:function(e,a){this.setState(Object(x.a)({},e,a||null))}},{key:"addRepresentante",value:function(e){var a=this;e.preventDefault(),this.setState({disabled:!0});var t={nome:this.state.nome,cpf:this.state.cpf.replace(/\D/g,""),telefones:this.state.telefones,banco:this.state.banco.value,agencia:this.state.agencia,conta:this.state.conta};b.a.post("representante",t).then(function(e){!1===e.data.status?alert(e.data.message):(alert("Representante cadastrado com sucesso!"),window.location.href="/#/representante"),a.setState({disabled:!1})}).catch(function(e){alert("Ocorreu um erro ao processar sua requisi\xe7\xe3o! Por favor tente novamente."),a.setState({disabled:!1})})}},{key:"render",value:function(){var e=this;return s.a.createElement("form",{onSubmit:this.addRepresentante},s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"nome"},"Nome"),s.a.createElement(j.j,{type:"text",name:"nome",id:"nome",value:this.state.nome,onChange:this.handleChange,disabled:this.state.disabled,required:!0})),s.a.createElement(j.q,null,s.a.createElement(j.b,{sm:"4"},s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"cpf"},"CPF"),s.a.createElement(L.a,{mask:"999.999.999-99",maskChar:"",name:"cpf",id:"cpf",className:"form-control",value:this.state.cpf,onChange:this.handleChange,disabled:this.state.disabled}))),s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"telefones"},"Telefone(s)"),s.a.createElement(j.j,{type:"text",name:"telefones",id:"telefones",value:this.state.telefones,onChange:this.handleChange,disabled:this.state.disabled})))),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Dados Banc\xe1rios"),s.a.createElement(j.q,null,s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"banco"},"Banco"),s.a.createElement(D.a,{options:this.state.bancosOptions,value:this.state.banco,onChange:function(a){e.handleSelectChange("banco",a)},type:"text",name:"banco",id:"banco",placeholder:"Selecione...",noResultsText:"Nenhum banco encontrado",required:!0,disabled:this.state.disabled}),s.a.createElement(j.i,null,"Conta utilizada para dep\xf3sito."))),s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"agencia"},"Ag\xeancia"),s.a.createElement(j.j,{type:"text",name:"agencia",id:"agencia",value:this.state.agencia,onChange:this.handleChange,required:!0,disabled:this.state.disabled}))),s.a.createElement(j.b,null,s.a.createElement(j.h,null,s.a.createElement(j.m,{for:"conta"},"Conta"),s.a.createElement(j.j,{type:"text",name:"conta",id:"conta",value:this.state.conta,onChange:this.handleChange,required:!0,disabled:this.state.disabled}))))),s.a.createElement(j.a,{type:"submit",outline:!0,color:"primary"},"Salvar"))}}]),a}(s.a.Component),Va=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={representante:{},isLoaded:!1},t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.match&&this.props.match.params.id&&b.a.get("representante/".concat(this.props.match.params.id)).then(function(a){e.setState({isLoaded:!0,representante:a.data[0]})}).catch(function(a){e.setState({isLoaded:!0}),alert("Ocorreu um erro ao carregar a p\xe1gina. Por favor, tente novamente!")})}},{key:"render",value:function(){var e=this.state.representante;return s.a.createElement("div",null,this.state.isLoaded||s.a.createElement(I.a,null),s.a.createElement("dl",{className:"row"},s.a.createElement("dt",{className:"col-sm-3"},"Nome"),s.a.createElement("dd",{className:"col-sm-9"},e.nome),s.a.createElement("dt",{className:"col-sm-3"},"CPF"),s.a.createElement("dd",{className:"col-sm-9"},e.cpf&&e.cpf.replace(/^(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")),s.a.createElement("dt",{className:"col-sm-3"},"Telefones"),s.a.createElement("dd",{className:"col-sm-9"},e.telefones),s.a.createElement("dt",{className:"col-sm-3"},"Banco"),s.a.createElement("dd",{className:"col-sm-9"},e.banco),s.a.createElement("dt",{className:"col-sm-3"},"Ag\xeancia"),s.a.createElement("dd",{className:"col-sm-9"},e.agencia),s.a.createElement("dt",{className:"col-sm-3"},"Conta"),s.a.createElement("dd",{className:"col-sm-9"},e.conta)))}}]),a}(s.a.Component),za=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={agendamentos:[],searchOptions:[{name:"Nome",value:"nome"},{name:"C\xf3digo",value:"codigo",mask:"99999999"}],selectedAgendamentos:[],status:!1,message:"Carregando...",isLoaded:!1},t.toggleSelect=t.toggleSelect.bind(Object(S.a)(Object(S.a)(t))),t.pagar=t.pagar.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.match&&this.props.match.params.id&&b.a.get("representante/".concat(this.props.match.params.id,"/agendamento")).then(function(a){e.setState({isLoaded:!0}),!1===a.data.status?e.setState(a.data):e.setState({agendamentos:a.data,status:!0})})}},{key:"toggleSelect",value:function(e){var a=this.state.selectedAgendamentos,t=a.indexOf(e);t>=0?(a.splice(t,1),this.setState({selectedAgendamentos:a})):this.setState({selectedAgendamentos:a.concat(e)})}},{key:"pagar",value:function(){var e=this;b.a.put("representante/pagar",{id_representante:this.props.match.params.id,agendamentos:this.state.selectedAgendamentos}).then(function(a){e.setState({isLoaded:!0}),!1===a.data.status?alert(a.data.message):window.location.reload()})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{width:"40"}),s.a.createElement("th",null,"C\xf3digo"),s.a.createElement("th",null,"Parceiro"),s.a.createElement("th",null,"Data"),s.a.createElement("th",null,"Status"),s.a.createElement("th",{className:"text-center"},"Representante pago"))),s.a.createElement("tbody",null,this.state.status?this.state.agendamentos.map(function(a){return s.a.createElement("tr",{key:"cliage".concat(a.id_agendamento),className:"status-".concat(a.status)},s.a.createElement("td",null,"0"===a.representante_pago&&s.a.createElement("input",{type:"checkbox",onChange:function(){return e.toggleSelect(a.id_agendamento)}})),s.a.createElement("td",null,s.a.createElement(k.a,{to:"/agendamento/v/".concat(a.id_agendamento)},a.codigo)),s.a.createElement("td",null,s.a.createElement(k.a,{to:"/parceiro/v/".concat(a.parceiro.id_parceiro)},a.parceiro.nome)),s.a.createElement("td",null,a.data_criacao.replace(/^(\d{4})-(\d{2})-(\d{2}) (\d)/,"$3/$2/$1 $4")),s.a.createElement("td",null,a.status),s.a.createElement("td",{className:"text-center"},"1"===a.representante_pago?"SIM":""))}):s.a.createElement("tr",null,s.a.createElement("td",{align:"center",colSpan:"5"},this.state.message)))),this.state.selectedAgendamentos.length>0&&s.a.createElement(F.a,{title:"Pagar",icon:"file-invoice-dollar",onClick:this.pagar}))}}]),a}(s.a.Component),Ja=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={pagamentos:[],searchOptions:[{name:"Data",value:"data_criacao"},{name:"Valor",value:"valor_representante"}],status:!1,message:"Carregando...",isLoaded:!1},t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.match&&this.props.match.params.id&&b.a.get("representante/".concat(this.props.match.params.id,"/pagamento")).then(function(a){e.setState({isLoaded:!0}),!1===a.data.status?e.setState(a.data):a.data?e.setState({pagamentos:a.data,status:!0}):e.setState({message:"Nenhum pagamento encontrado"})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"C\xf3digo"),s.a.createElement("th",null,"Data cria\xe7\xe3o"),s.a.createElement("th",null,"Valor"))),s.a.createElement("tbody",null,this.state.status?this.state.pagamentos.map(function(a){return s.a.createElement("tr",{key:"reppag".concat(a.id_pagamento)},s.a.createElement("td",null,s.a.createElement(k.a,{to:"/representante/v/".concat(e.props.match.params.id,"/pagamentos/").concat(a.id_representante_pagamento)},a.id_representante_pagamento.padStart(10,"0"))),s.a.createElement("td",null,a.data_criacao.replace(/^(\d{4})-(\d{2})-(\d{2}) (\d)/,"$3/$2/$1 $4")),s.a.createElement("td",null,"R$ ",a.total_pagamento||0))}):s.a.createElement("tr",null,s.a.createElement("td",{align:"center",colSpan:"5"},this.state.message)))))}}]),a}(s.a.Component),Ga=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={pagamento:{},isLoaded:!1},t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.match&&this.props.match.params.id_representante&&this.props.match.params.id_representante_pagamento&&b.a.get("representante/".concat(this.props.match.params.id_representante,"/pagamento/").concat(this.props.match.params.id_representante_pagamento)).then(function(a){e.setState({isLoaded:!0,pagamento:a.data[0]})}).catch(function(a){e.setState({isLoaded:!0}),alert("Ocorreu um erro ao carregar a p\xe1gina. Por favor, tente novamente!")})}},{key:"render",value:function(){var e=this.state.pagamento;return s.a.createElement("div",null,this.state.isLoaded||s.a.createElement(I.a,null),s.a.createElement("dl",{className:"row"},s.a.createElement("dt",{className:"col-sm-3"},"C\xf3digo"),s.a.createElement("dd",{className:"col-sm-9"},e.id_representante_pagamento&&e.id_representante_pagamento.padStart(10,"0")),s.a.createElement("dt",{className:"col-sm-3"},"Valor"),s.a.createElement("dd",{className:"col-sm-9"},"R$ ",e.total_pagamento),s.a.createElement("dt",{className:"col-sm-3"},"Data criacao"),s.a.createElement("dd",{className:"col-sm-9"},e.data_criacao&&e.data_criacao.replace(/^(\d{4})-(\d{2})-(\d{2}) (\d)/,"$3/$2/$1 $4"))),s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"N\xfamero"),s.a.createElement("th",null,"Data cria\xe7\xe3o"),s.a.createElement("th",null,"Valor"))),s.a.createElement("tbody",null,e.agendamentos&&e.agendamentos.map(function(e){return s.a.createElement("tr",{key:"reppagagen".concat(e.id_agendamento)},s.a.createElement("td",null,s.a.createElement(k.a,{to:"/agendamento/v/".concat(e.id_agendamento)},e.codigo)),s.a.createElement("td",null,e.data_criacao.replace(/^(\d{4})-(\d{2})-(\d{2}) (\d)/,"$3/$2/$1 $4")),s.a.createElement("td",null,"R$ ",e.valor_representante||0))}))))}}]),a}(s.a.Component),Ha=function(e){return s.a.createElement(P.b,{title:"Representante",icon:"handshake"},s.a.createElement(qa,null))},Ua=function(e){return s.a.createElement(P.b,{title:"Representante",icon:"handshake"},s.a.createElement(Ma,null))},Qa=function(e){function a(e){var t,o=e.props,l=e.match;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,o))).state={match:l},t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e){var a=Object(A.a)({},this.state.match);e.match.params.action!==this.props.match.params.action&&(a.params.action=e.match.params.action,this.setState({match:a}))}},{key:"render",value:function(){return s.a.createElement(P.b,{title:"Representante",icon:"handshake"},s.a.createElement("ul",{className:"nav nav-tabs"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(u.a,{className:"nav-link",exact:!0,activeClassName:"active",to:"/representante/v/".concat(this.state.match.params.id)},"Detalhes")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(u.a,{className:"nav-link",exact:!0,activeClassName:"active",to:"/representante/v/".concat(this.state.match.params.id,"/agendamentos")},"Agendamentos")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(u.a,{className:"nav-link",exact:!0,activeClassName:"active",to:"/representante/v/".concat(this.state.match.params.id,"/pagamentos")},"Pagamentos"))),s.a.createElement("br",null),"agendamentos"===this.state.match.params.action?s.a.createElement(za,{match:this.state.match}):"pagamentos"===this.state.match.params.action?s.a.createElement(Ja,{match:this.state.match}):s.a.createElement(Va,{match:this.state.match}))}}]),a}(s.a.Component),Ka=function(e){e.props;var a=e.match;return s.a.createElement(P.b,{title:"Representante",icon:"handshake"},s.a.createElement(Ga,{match:a}))},Wa=t(135),Xa=function(){return s.a.createElement(P.b,{title:"In\xedcio",subtitle:"- Seja bem vindo!",icon:"home"},s.a.createElement("div",{className:"page-home"},s.a.createElement("img",{src:"logo.png",alt:"Consulta F\xe1cil",className:"img-fluid"})))},Ya=t(136),Za=t(417),et=t.n(Za),at="relatorio/agendamento",tt=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={agendamentos:[],searchOptions:[{name:"Parceiro",value:"nome"}],searchFilters:[{name:"Data inicial",value:"data_inicial",props:{type:"date"}},{name:"Data final",value:"data_final",props:{type:"date"}}],search:{value:"",field:"",filters:""},isLoaded:!1},t.filter=t.filter.bind(Object(S.a)(Object(S.a)(t))),t.handleDownload=t.handleDownload.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("".concat(at,"?").concat(window.location.href.replace(/^.+\?/,""))).then(function(a){e.setState({isLoaded:!0}),!1!==a.data.status&&e.setState({agendamentos:a.data})})}},{key:"handleDownload",value:function(){var e=this.state.search,a=e.value,t=e.field,n=e.filters,o=a?"".concat(at,"/").concat(a,"/").concat(t,"?").concat(n,"&export=csv"):"".concat(at,"?").concat(n,"&export=csv");b.a.get(o).then(function(e){var a=new Blob([e.data.replaceAll(".",",")],{type:"text/csv;charset=utf-8"});et.a.saveAs(a,"relatorio.csv")})}},{key:"filter",value:function(e,a,t){var n=this,o=e?"".concat(at,"/").concat(e,"/").concat(a,"?").concat(t):"".concat(at,"?").concat(t);this.setState({isLoaded:!1,search:{value:e,field:a,filters:t}}),b.a.get(o).then(function(e){n.setState({isLoaded:!0}),!1!==e.data.status&&n.setState({agendamentos:e.data})})}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table ".concat(this.state.isLoaded?"":"blur")},s.a.createElement("thead",{className:""},s.a.createElement("tr",null,s.a.createElement("th",null,"N\xfamero"),s.a.createElement("th",null,"Parceiro"),s.a.createElement("th",null,"Valor Parceiro"),s.a.createElement("th",null,"Valor CF"),s.a.createElement("th",null,"Valor Total"),s.a.createElement("th",null,"Status"))),s.a.createElement("tbody",null,this.state.agendamentos.map(function(e){return s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement(k.a,{to:"/agendamento/v/".concat(e.id_agendamento)},e.codigo)),s.a.createElement("td",null,s.a.createElement(k.a,{to:"/parceiro/v/".concat(e.id_parceiro)},e.nome)),s.a.createElement("td",null,"R$ ",e.valor_parceiro),s.a.createElement("td",null,"R$ ",e.valor_cf),s.a.createElement("td",null,"R$ ",e.total),s.a.createElement("td",null,e.status))})))),s.a.createElement(F.a,{onClick:this.handleDownload,title:"Download",icon:"download"}))}}]),a}(s.a.Component),nt=t(79),ot=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={financeiros:[],searchOptions:[{name:"Parceiro",value:"nome"}],searchFilters:[{name:"Data inicial",value:"data_inicial",props:{type:"date"}},{name:"Data final",value:"data_final",props:{type:"date"}}],search:{value:"",field:"",filters:""},isLoaded:!1},t.filter=t.filter.bind(Object(S.a)(Object(S.a)(t))),t.handleDownload=t.handleDownload.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("relatorio/financeiro").then(function(a){e.setState({isLoaded:!0}),!1!==a.data.status&&e.setState({financeiros:a.data})})}},{key:"handleDownload",value:function(){var e=this.state.search,a=e.value,t=e.field,n=e.filters,o=a?"".concat("relatorio/financeiro","/").concat(a,"/").concat(t,"?").concat(n,"&export=csv"):"".concat("relatorio/financeiro","?").concat(n,"&export=csv");b.a.get(o).then(function(e){var a=new Blob([e.data.replaceAll(".",",")],{type:"text/csv;charset=utf-8"});et.a.saveAs(a,"relatorio.csv")})}},{key:"filter",value:function(e,a,t){var n=this,o=e?"".concat("relatorio/financeiro","/").concat(e,"/").concat(a,"?").concat(t):"".concat("relatorio/financeiro","?").concat(t);this.setState({isLoaded:!1,search:{value:e,field:a,filters:t}}),b.a.get(o).then(function(e){n.setState({isLoaded:!0}),!1!==e.data.status&&n.setState({financeiros:e.data})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement(B,{options:this.state.searchOptions,filters:this.state.searchFilters,onSearch:this.filter}),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table ".concat(this.state.isLoaded?"":"blur")},s.a.createElement("thead",{className:""},s.a.createElement("tr",null,s.a.createElement("th",null,"Parceiro"),s.a.createElement("th",null,s.a.createElement(nt.a,{title:"Procedimentos realizados n\xe3o vinculados a nenhum financeiro"},"Pendente de lan\xe7amento")),s.a.createElement("th",null,s.a.createElement(nt.a,{title:"Procedimentos realizados vinculados a financeiros n\xe3o pagos"},"Pendente de pagamento")))),s.a.createElement("tbody",null,this.state.financeiros.map(function(a){return s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement(k.a,{to:"/relatorio/agendamento".concat(e.state.activeFilter?e.state.activeFilter+"&":"?","parceiro=").concat(a.id_parceiro,"&status=realizado&tipo=financeiro")},a.nome)),s.a.createElement("td",null,"R$ ",a.procedimentos_pendentes),s.a.createElement("td",null,"R$ ",a.financeiros_pendentes))})))),s.a.createElement(F.a,{onClick:this.handleDownload,title:"Download",icon:"download"}))}}]),a}(s.a.Component),rt=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={parceiros:[],searchOptions:[{name:"Parceiro",value:"nome"}],searchFilters:[{name:"Status do Agendamento",value:"status",type:"select",options:[{value:"pendente",label:"Pendente"},{value:"realizado",label:"Realizado"},{value:"pago",label:"Pago"}]},{name:"Data inicial",value:"data_inicial",props:{type:"date"}},{name:"Data final",value:"data_final",props:{type:"date"}}],search:{value:"",field:"",filters:""},activeFilter:"",isLoaded:!1},t.filter=t.filter.bind(Object(S.a)(Object(S.a)(t))),t.handleDownload=t.handleDownload.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("relatorio/parceiro").then(function(a){e.setState({isLoaded:!0}),!1!==a.data.status&&e.setState({parceiros:a.data})})}},{key:"handleDownload",value:function(){var e="".concat("relatorio/parceiro").concat(this.state.activeFilter?this.state.activeFilter+"&":"?","export=csv");b.a.get(e).then(function(e){var a=new Blob([e.data.replaceAll(".",",")],{type:"text/csv;charset=utf-8"});et.a.saveAs(a,"relatorio.csv")})}},{key:"filter",value:function(e,a,t){var n=this,o=e?"/".concat(e,"/").concat(a,"?").concat(t):"?".concat(t),r="".concat("relatorio/parceiro").concat(o);this.setState({isLoaded:!1,activeFilter:o,search:{value:e,field:a,filters:t}}),b.a.get(r).then(function(e){n.setState({isLoaded:!0}),!1!==e.data.status&&n.setState({parceiros:e.data})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement(B,{options:this.state.searchOptions,filters:this.state.searchFilters,onSearch:this.filter}),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table ".concat(this.state.isLoaded?"":"blur")},s.a.createElement("thead",{className:""},s.a.createElement("tr",null,s.a.createElement("th",null,"Parceiro"),s.a.createElement("th",null,"Qnt Agendamentos"),s.a.createElement("th",null,"Qnt Procedimentos"),s.a.createElement("th",null,s.a.createElement(nt.a,{title:"Valor de agendamentos pagos ao parceiro"},"Parceiro Pago")),s.a.createElement("th",null,s.a.createElement(nt.a,{title:"Valor de agendamentos realizados n\xe3o pagos ao parceiro"},"Parceiro Pendente")),s.a.createElement("th",null,s.a.createElement(nt.a,{title:"Valor de agendamentos pendentes de realiza\xe7\xe3o no parceiro"},"Parceiro Previsto")),s.a.createElement("th",null,s.a.createElement(nt.a,{title:"Somat\xf3rio dos agendamentos do parceiro"},"Parceiro Total")),s.a.createElement("th",null,s.a.createElement(nt.a,{title:"Valor da CF de agendamentos pagos ao parceiro"},"CF Pago")),s.a.createElement("th",null,s.a.createElement(nt.a,{title:"Valor da CF de agendamentos realizados n\xe3o pagos ao parceiro"},"CF Pendente")),s.a.createElement("th",null,s.a.createElement(nt.a,{title:"Valor da CF de agendamentos pendentes de realiza\xe7\xe3o no parceiro"},"CF Previsto")),s.a.createElement("th",null,s.a.createElement(nt.a,{title:"Somat\xf3rio da CF dos agendamentos do parceiro"},"CF Total")))),s.a.createElement("tbody",null,this.state.parceiros.map(function(a){return s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement(k.a,{to:"/relatorio/agendamento".concat(e.state.activeFilter?e.state.activeFilter+"&":"?","parceiro=").concat(a.id_parceiro)},a.nome)),s.a.createElement("td",null,a.qnt_agendamentos),s.a.createElement("td",null,a.qnt_procedimentos),s.a.createElement("td",null,"R$\xa0",a.valor_parceiro_pago),s.a.createElement("td",null,"R$\xa0",a.valor_parceiro_pendente),s.a.createElement("td",null,"R$\xa0",a.valor_parceiro_previsto),s.a.createElement("td",null,"R$\xa0",a.valor_parceiro_total),s.a.createElement("td",null,"R$\xa0",a.valor_cf_pago),s.a.createElement("td",null,"R$\xa0",a.valor_cf_pendente),s.a.createElement("td",null,"R$\xa0",a.valor_cf_previsto),s.a.createElement("td",null,"R$\xa0",a.valor_cf_total))})))),s.a.createElement(F.a,{onClick:this.handleDownload,title:"Download",icon:"download"}))}}]),a}(s.a.Component),ct=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={procedimentos:[],searchOptions:[{name:"Nome",value:"nome"}],searchFilters:[{name:"Tipo",value:"tipo",type:"select",options:[{value:"consulta",label:"Consulta"},{value:"exame",label:"Exame"},{value:"procedimento",label:"Procedimento"}]},{name:"Status do Agendamento",value:"status",type:"select",options:[{value:"pendente",label:"Pendente"},{value:"realizado",label:"Realizado"},{value:"pago",label:"Pago"}]},{name:"Data inicial",value:"data_inicial",props:{type:"date"}},{name:"Data final",value:"data_final",props:{type:"date"}}],search:{value:"",field:"",filters:""},activeFilter:"",isLoaded:!1},t.filter=t.filter.bind(Object(S.a)(Object(S.a)(t))),t.handleDownload=t.handleDownload.bind(Object(S.a)(Object(S.a)(t))),t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("relatorio/procedimento").then(function(a){e.setState({isLoaded:!0}),!1!==a.data.status&&e.setState({procedimentos:a.data})})}},{key:"handleDownload",value:function(){var e="".concat("relatorio/procedimento").concat(this.state.activeFilter?this.state.activeFilter+"&":"?","export=csv");b.a.get(e).then(function(e){var a=e.data.replaceAll(".",",")+"\ufeff",t=new Blob([a],{type:"text/csv;charset=utf-8"});et.a.saveAs(t,"relatorio.csv")})}},{key:"filter",value:function(e,a,t){var n=this,o=e?"/".concat(e,"/").concat(a,"?").concat(t):"?".concat(t),r="".concat("relatorio/procedimento").concat(o);this.setState({isLoaded:!1,activeFilter:o,search:{value:e,field:a,filters:t}}),b.a.get(r).then(function(e){n.setState({isLoaded:!0}),!1!==e.data.status&&n.setState({procedimentos:e.data})})}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.isLoaded?"":s.a.createElement(I.a,null),s.a.createElement(B,{options:this.state.searchOptions,filters:this.state.searchFilters,onSearch:this.filter}),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table ".concat(this.state.isLoaded?"":"blur")},s.a.createElement("thead",{className:""},s.a.createElement("tr",null,s.a.createElement("th",null,"Procedimento"),s.a.createElement("th",null,"Quantidade"),s.a.createElement("th",null,s.a.createElement(nt.a,{title:"Valor dos procedimentos pagos aos parceiros"},"Parceiro Pago")),s.a.createElement("th",null,s.a.createElement(nt.a,{title:"Valor dos procedimentos realizados n\xe3o pagos aos parceiros"},"Parceiro Pendente")),s.a.createElement("th",null,s.a.createElement(nt.a,{title:"Valor dos procedimentos pendentes de realiza\xe7\xe3o nos parceiros"},"Parceiro Previsto")),s.a.createElement("th",null,s.a.createElement(nt.a,{title:"Somat\xf3rio dos procedimentos dos parceiros"},"Parceiro Total")),s.a.createElement("th",null,s.a.createElement(nt.a,{title:"Valor da CF dos procedimentos pagos aos parceiros"},"CF Pago")),s.a.createElement("th",null,s.a.createElement(nt.a,{title:"Valor da CF dos procedimentos realizados n\xe3o pagos aos parceiros"},"CF Pendente")),s.a.createElement("th",null,s.a.createElement(nt.a,{title:"Valor da CF dos procedimentos pendentes de realiza\xe7\xe3o nos parceiros"},"CF Previsto")),s.a.createElement("th",null,s.a.createElement(nt.a,{title:"Somat\xf3rio da CF dos procedimentos dos parceiros"},"CF Total")))),s.a.createElement("tbody",null,this.state.procedimentos.map(function(e){return s.a.createElement("tr",null,s.a.createElement("td",null,e.procedimento),s.a.createElement("td",null,e.quantidade),s.a.createElement("td",null,"R$\xa0",e.valor_parceiro_pago),s.a.createElement("td",null,"R$\xa0",e.valor_parceiro_pendente),s.a.createElement("td",null,"R$\xa0",e.valor_parceiro_previsto),s.a.createElement("td",null,"R$\xa0",e.valor_parceiro_total),s.a.createElement("td",null,"R$\xa0",e.valor_cf_pago),s.a.createElement("td",null,"R$\xa0",e.valor_cf_pendente),s.a.createElement("td",null,"R$\xa0",e.valor_cf_previsto),s.a.createElement("td",null,"R$\xa0",e.valor_cf_total))})))),s.a.createElement(F.a,{onClick:this.handleDownload,title:"Download",icon:"download"}))}}]),a}(s.a.Component),lt=function(e){return s.a.createElement(P.b,{title:"Relat\xf3rios",icon:"chart-pie"},s.a.createElement(tt,null))},it=function(e){return s.a.createElement(P.b,{title:"Relat\xf3rios",icon:"chart-pie"},s.a.createElement(ot,null))},st=function(e){return s.a.createElement(P.b,{title:"Relat\xf3rios",icon:"chart-pie"},s.a.createElement(rt,null))},mt=function(e){return s.a.createElement(P.b,{title:"Relat\xf3rios",icon:"chart-pie"},s.a.createElement(ct,null))},dt=function(e){function a(){return Object(n.a)(this,a),Object(r.a)(this,Object(c.a)(a).apply(this,arguments))}return Object(l.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement(m.a,{locale:p.a},s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement(y,null),s.a.createElement("div",{className:"row flex-xl-nowrap"},s.a.createElement(f,null),s.a.createElement("main",{className:"main col-md-9 col-xl-10 ml-sm-auto"},s.a.createElement(g.a,{exact:!0,path:"/",component:Xa}),s.a.createElement(g.a,{exact:!0,path:"/agendamento",component:ie}),s.a.createElement(g.a,{exact:!0,path:"/agendamento/adicionar/:cpf?",component:se}),s.a.createElement(g.a,{exact:!0,path:"/agendamento/v/:id",component:me}),s.a.createElement(g.a,{exact:!0,path:"/agendamento/v/:id/:action",component:me}),s.a.createElement(g.a,{exact:!0,path:"/caixa",component:ve}),s.a.createElement(g.a,{exact:!0,path:"/caixa/v/:id",component:ge}),s.a.createElement(g.a,{exact:!0,path:"/caixa/adicionar/",component:fe}),s.a.createElement(g.a,{exact:!0,path:"/caixa/transacao/",component:_e}),s.a.createElement(g.a,{exact:!0,path:"/cliente",component:Le}),s.a.createElement(g.a,{exact:!0,path:"/cliente/v/:id",component:Ie}),s.a.createElement(g.a,{exact:!0,path:"/cliente/e/:id",component:Be}),s.a.createElement(g.a,{exact:!0,path:"/cliente/v/:id/:action",component:Ie}),s.a.createElement(g.a,{exact:!0,path:"/cliente/adicionar",component:De}),s.a.createElement(g.a,{exact:!0,path:"/financeiro",component:Ue}),s.a.createElement(g.a,{exact:!0,path:"/financeiro/v/:id",component:Ke}),s.a.createElement(g.a,{exact:!0,path:"/financeiro/adicionar",component:Qe}),s.a.createElement(g.a,{exact:!0,path:"/parceiro",component:Ca}),s.a.createElement(g.a,{exact:!0,path:"/parceiro/adicionar",component:Na}),s.a.createElement(g.a,{exact:!0,path:"/parceiro/v/:id",component:ka}),s.a.createElement(g.a,{exact:!0,path:"/parceiro/e/:id",component:ya}),s.a.createElement(g.a,{exact:!0,path:"/parceiro/v/:id/:action",component:ka}),s.a.createElement(g.a,{exact:!0,path:"/parceiro/v/:id_parceiro/procedimentos/:id",component:Pa}),s.a.createElement(g.a,{exact:!0,path:"/parceiro/e/:id_parceiro/procedimentos/:id",component:Sa}),s.a.createElement(g.a,{exact:!0,path:"/procedimento",component:Ba}),s.a.createElement(g.a,{exact:!0,path:"/procedimento/adicionar",component:Ia}),s.a.createElement(g.a,{exact:!0,path:"/procedimento/e/:id",component:$a}),s.a.createElement(g.a,{exact:!0,path:"/relatorio/agendamento",component:lt}),s.a.createElement(g.a,{exact:!0,path:"/relatorio/financeiro",component:it}),s.a.createElement(g.a,{exact:!0,path:"/relatorio/parceiro",component:st}),s.a.createElement(g.a,{exact:!0,path:"/relatorio/procedimento",component:mt}),s.a.createElement(g.a,{exact:!0,path:"/representante",component:Ha}),s.a.createElement(g.a,{exact:!0,path:"/representante/adicionar",component:Ua}),s.a.createElement(g.a,{exact:!0,path:"/representante/v/:id",component:Qa}),s.a.createElement(g.a,{exact:!0,path:"/representante/v/:id/:action",component:Qa}),s.a.createElement(g.a,{exact:!0,path:"/representante/v/:id_representante/pagamentos/:id_representante_pagamento",component:Ka}),s.a.createElement(g.a,{exact:!0,path:"/usuario",component:Wa.e}),s.a.createElement(g.a,{exact:!0,path:"/usuario/adicionar",component:Wa.c}),s.a.createElement(g.a,{exact:!0,path:"/usuario/v/:id",component:Wa.g}),s.a.createElement(g.a,{exact:!0,path:"/usuario/e/:id",component:Wa.d}),s.a.createElement(g.a,{exact:!0,path:"/meus-dados",component:Wa.f}),s.a.createElement(g.a,{exact:!0,path:"/logout",component:Ya.b}))))))}}]),a}(s.a.Component);a.default=dt}}]);
//# sourceMappingURL=1.ffe0c77e.chunk.js.map